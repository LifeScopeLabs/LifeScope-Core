{
  "{\"filename\":\"/app/scripts/seed.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/scripts\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongodb",
            "imported": [
              "MongoClient"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "MongoClient",
                "local": "MongoClient"
              }
            ]
          },
          {
            "source": "path",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "path"
              }
            ]
          },
          {
            "source": "fs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fs"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/scripts/seed.js",
      "filenameRelative": "/app/scripts/seed.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "seed.js",
      "sourceFileName": "seed.js",
      "sourceRoot": "/app/scripts",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/scripts",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "seed"
    },
    "ignored": false,
    "code": "'use strict';\n\nlet run = (() => {\n  var _ref = _asyncToGenerator(function* () {\n    db = yield _mongodb.MongoClient.connect(process.env.MONGODB_URI, { promiseLibrary: Promise });\n\n    console.log(`Starting seed...`);\n\n    const seedFile = _path2.default.resolve('./schema/data/seed.js');\n    try {\n      yield new Promise(function (resolve, reject) {\n        _fs2.default.access(seedFile, _fs2.default.F_OK, function (err) {\n          if (err) reject(err);else resolve();\n        });\n      });\n\n      // $FlowFixMe\n      const seedFn = require(seedFile).default;\n      yield seedFn(db); // eslint-disable-line\n    } catch (e) {\n      if (e.code === 'MODULE_NOT_FOUND' || e.code === 'ENOENT') {\n        console.log(`  file '${seedFile}' not found. Skipping...`);\n      } else {\n        console.log(e);\n      }\n    }\n\n    console.log('Seed competed!');\n    db.close();\n  });\n\n  return function run() {\n    return _ref.apply(this, arguments);\n  };\n})();\n\nvar _mongodb = require('mongodb');\n\nvar _path = require('path');\n\nvar _path2 = _interopRequireDefault(_path);\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n/* eslint-disable no-await-in-loop */\n// This script scans `schema/data` folder for `schema/data/seed.js` files and run them for seeding DB.\n\nlet db;\n\nrun().catch(e => {\n  console.log(e);\n  process.exit(0);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlZWQuanMiXSwibmFtZXMiOlsiZGIiLCJjb25uZWN0IiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwicHJvbWlzZUxpYnJhcnkiLCJQcm9taXNlIiwiY29uc29sZSIsImxvZyIsInNlZWRGaWxlIiwicmVzb2x2ZSIsInJlamVjdCIsImFjY2VzcyIsIkZfT0siLCJlcnIiLCJzZWVkRm4iLCJyZXF1aXJlIiwiZGVmYXVsdCIsImUiLCJjb2RlIiwiY2xvc2UiLCJydW4iLCJjYXRjaCIsImV4aXQiXSwibWFwcGluZ3MiOiI7OzsrQkFXQSxhQUFxQjtBQUNuQkEsU0FBSyxNQUFNLHFCQUFZQyxPQUFaLENBQW9CQyxRQUFRQyxHQUFSLENBQVlDLFdBQWhDLEVBQTZDLEVBQUVDLGdCQUFnQkMsT0FBbEIsRUFBN0MsQ0FBWDs7QUFFQUMsWUFBUUMsR0FBUixDQUFhLGtCQUFiOztBQUVBLFVBQU1DLFdBQVcsZUFBS0MsT0FBTCxDQUFhLHVCQUFiLENBQWpCO0FBQ0EsUUFBSTtBQUNGLFlBQU0sSUFBSUosT0FBSixDQUFZLFVBQUNJLE9BQUQsRUFBVUMsTUFBVixFQUFxQjtBQUNyQyxxQkFBR0MsTUFBSCxDQUFVSCxRQUFWLEVBQW9CLGFBQUdJLElBQXZCLEVBQTZCLGVBQU87QUFDbEMsY0FBSUMsR0FBSixFQUFTSCxPQUFPRyxHQUFQLEVBQVQsS0FDS0o7QUFDTixTQUhEO0FBSUQsT0FMSyxDQUFOOztBQU9BO0FBQ0EsWUFBTUssU0FBU0MsUUFBUVAsUUFBUixFQUFrQlEsT0FBakM7QUFDQSxZQUFNRixPQUFPZixFQUFQLENBQU4sQ0FWRSxDQVVnQjtBQUNuQixLQVhELENBV0UsT0FBT2tCLENBQVAsRUFBVTtBQUNWLFVBQUlBLEVBQUVDLElBQUYsS0FBVyxrQkFBWCxJQUFpQ0QsRUFBRUMsSUFBRixLQUFXLFFBQWhELEVBQTBEO0FBQ3hEWixnQkFBUUMsR0FBUixDQUFhLFdBQVVDLFFBQVMsMEJBQWhDO0FBQ0QsT0FGRCxNQUVPO0FBQ0xGLGdCQUFRQyxHQUFSLENBQVlVLENBQVo7QUFDRDtBQUNGOztBQUVEWCxZQUFRQyxHQUFSLENBQVksZ0JBQVo7QUFDQVIsT0FBR29CLEtBQUg7QUFDRCxHOztrQkEzQmNDLEc7Ozs7O0FBUGY7O0FBRUE7Ozs7QUFDQTs7Ozs7OztBQU5BO0FBQ0E7O0FBT0EsSUFBSXJCLEVBQUo7O0FBK0JBcUIsTUFBTUMsS0FBTixDQUFZSixLQUFLO0FBQ2ZYLFVBQVFDLEdBQVIsQ0FBWVUsQ0FBWjtBQUNBaEIsVUFBUXFCLElBQVIsQ0FBYSxDQUFiO0FBQ0QsQ0FIRCIsImZpbGUiOiJzZWVkLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2NyaXB0cyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEBmbG93ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1hd2FpdC1pbi1sb29wICovXG4vLyBUaGlzIHNjcmlwdCBzY2FucyBgc2NoZW1hL2RhdGFgIGZvbGRlciBmb3IgYHNjaGVtYS9kYXRhL3NlZWQuanNgIGZpbGVzIGFuZCBydW4gdGhlbSBmb3Igc2VlZGluZyBEQi5cblxuaW1wb3J0IHsgTW9uZ29DbGllbnQgfSBmcm9tICdtb25nb2RiJztcblxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuXG5sZXQgZGI7XG5cbmFzeW5jIGZ1bmN0aW9uIHJ1bigpIHtcbiAgZGIgPSBhd2FpdCBNb25nb0NsaWVudC5jb25uZWN0KHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJLCB7IHByb21pc2VMaWJyYXJ5OiBQcm9taXNlIH0pO1xuXG4gIGNvbnNvbGUubG9nKGBTdGFydGluZyBzZWVkLi4uYCk7XG5cbiAgY29uc3Qgc2VlZEZpbGUgPSBwYXRoLnJlc29sdmUoJy4vc2NoZW1hL2RhdGEvc2VlZC5qcycpO1xuICB0cnkge1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGZzLmFjY2VzcyhzZWVkRmlsZSwgZnMuRl9PSywgZXJyID0+IHtcbiAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycik7XG4gICAgICAgIGVsc2UgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyAkRmxvd0ZpeE1lXG4gICAgY29uc3Qgc2VlZEZuID0gcmVxdWlyZShzZWVkRmlsZSkuZGVmYXVsdDtcbiAgICBhd2FpdCBzZWVkRm4oZGIpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZS5jb2RlID09PSAnTU9EVUxFX05PVF9GT1VORCcgfHwgZS5jb2RlID09PSAnRU5PRU5UJykge1xuICAgICAgY29uc29sZS5sb2coYCAgZmlsZSAnJHtzZWVkRmlsZX0nIG5vdCBmb3VuZC4gU2tpcHBpbmcuLi5gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgfVxuICB9XG5cbiAgY29uc29sZS5sb2coJ1NlZWQgY29tcGV0ZWQhJyk7XG4gIGRiLmNsb3NlKCk7XG59XG5cbnJ1bigpLmNhdGNoKGUgPT4ge1xuICBjb25zb2xlLmxvZyhlKTtcbiAgcHJvY2Vzcy5leGl0KDApO1xufSk7Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "seed.js"
      ],
      "names": [
        "db",
        "connect",
        "process",
        "env",
        "MONGODB_URI",
        "promiseLibrary",
        "Promise",
        "console",
        "log",
        "seedFile",
        "resolve",
        "reject",
        "access",
        "F_OK",
        "err",
        "seedFn",
        "require",
        "default",
        "e",
        "code",
        "close",
        "run",
        "catch",
        "exit"
      ],
      "mappings": ";;;+BAWA,aAAqB;AACnBA,SAAK,MAAM,qBAAYC,OAAZ,CAAoBC,QAAQC,GAAR,CAAYC,WAAhC,EAA6C,EAAEC,gBAAgBC,OAAlB,EAA7C,CAAX;;AAEAC,YAAQC,GAAR,CAAa,kBAAb;;AAEA,UAAMC,WAAW,eAAKC,OAAL,CAAa,uBAAb,CAAjB;AACA,QAAI;AACF,YAAM,IAAIJ,OAAJ,CAAY,UAACI,OAAD,EAAUC,MAAV,EAAqB;AACrC,qBAAGC,MAAH,CAAUH,QAAV,EAAoB,aAAGI,IAAvB,EAA6B,eAAO;AAClC,cAAIC,GAAJ,EAASH,OAAOG,GAAP,EAAT,KACKJ;AACN,SAHD;AAID,OALK,CAAN;;AAOA;AACA,YAAMK,SAASC,QAAQP,QAAR,EAAkBQ,OAAjC;AACA,YAAMF,OAAOf,EAAP,CAAN,CAVE,CAUgB;AACnB,KAXD,CAWE,OAAOkB,CAAP,EAAU;AACV,UAAIA,EAAEC,IAAF,KAAW,kBAAX,IAAiCD,EAAEC,IAAF,KAAW,QAAhD,EAA0D;AACxDZ,gBAAQC,GAAR,CAAa,WAAUC,QAAS,0BAAhC;AACD,OAFD,MAEO;AACLF,gBAAQC,GAAR,CAAYU,CAAZ;AACD;AACF;;AAEDX,YAAQC,GAAR,CAAY,gBAAZ;AACAR,OAAGoB,KAAH;AACD,G;;kBA3BcC,G;;;;;AAPf;;AAEA;;;;AACA;;;;;;;AANA;AACA;;AAOA,IAAIrB,EAAJ;;AA+BAqB,MAAMC,KAAN,CAAYJ,KAAK;AACfX,UAAQC,GAAR,CAAYU,CAAZ;AACAhB,UAAQqB,IAAR,CAAa,CAAb;AACD,CAHD",
      "file": "seed.js",
      "sourceRoot": "/app/scripts",
      "sourcesContent": [
        "/* @flow */\n/* eslint-disable no-await-in-loop */\n// This script scans `schema/data` folder for `schema/data/seed.js` files and run them for seeding DB.\n\nimport { MongoClient } from 'mongodb';\n\nimport path from 'path';\nimport fs from 'fs';\n\nlet db;\n\nasync function run() {\n  db = await MongoClient.connect(process.env.MONGODB_URI, { promiseLibrary: Promise });\n\n  console.log(`Starting seed...`);\n\n  const seedFile = path.resolve('./schema/data/seed.js');\n  try {\n    await new Promise((resolve, reject) => {\n      fs.access(seedFile, fs.F_OK, err => {\n        if (err) reject(err);\n        else resolve();\n      });\n    });\n\n    // $FlowFixMe\n    const seedFn = require(seedFile).default;\n    await seedFn(db); // eslint-disable-line\n  } catch (e) {\n    if (e.code === 'MODULE_NOT_FOUND' || e.code === 'ENOENT') {\n      console.log(`  file '${seedFile}' not found. Skipping...`);\n    } else {\n      console.log(e);\n    }\n  }\n\n  console.log('Seed competed!');\n  db.close();\n}\n\nrun().catch(e => {\n  console.log(e);\n  process.exit(0);\n});"
      ]
    },
    "mtime": 1521190068267
  },
  "{\"filename\":\"/app/schema/data/seed.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/schema/data\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "fs",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "fs"
              }
            ]
          },
          {
            "source": "mongodb",
            "imported": [
              "ObjectID"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "ObjectID",
                "local": "ObjectID"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/schema/data/seed.js",
      "filenameRelative": "/app/schema/data/seed.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "seed.js",
      "sourceFileName": "seed.js",
      "sourceRoot": "/app/schema/data",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/schema/data",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "seed"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _mongodb = require('mongodb');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nconst collectionPrefix = 'user_';\n\nexports.default = (() => {\n  var _ref = _asyncToGenerator(function* (db) {\n    const files = ['users'];\n\n    const collectionNames = (yield db.listCollections().toArray()).map(function (o) {\n      return o.name;\n    });\n\n    return Promise.all(files.map(function (file) {\n      return _asyncToGenerator(function* () {\n        const colName = `${collectionPrefix || ''}${file}`;\n        const data = JSON.parse(_fs2.default.readFileSync(`${__dirname}/${file}.json`, 'utf8'));\n        data.forEach(function (d, i) {\n          data[i]._id = _mongodb.ObjectID.createFromHexString(data[i]._id);\n        });\n        if (collectionNames.indexOf(colName) > -1) {\n          console.log(`  '${colName}' dropped`);\n          yield db.dropCollection(colName);\n        }\n        const result = yield db.collection(colName).insertMany(data);\n        console.log(`  '${colName}' created with ${result.insertedCount} records`);\n      })();\n    }));\n  });\n\n  function seed(_x) {\n    return _ref.apply(this, arguments);\n  }\n\n  return seed;\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlZWQuanMiXSwibmFtZXMiOlsiY29sbGVjdGlvblByZWZpeCIsImRiIiwiZmlsZXMiLCJjb2xsZWN0aW9uTmFtZXMiLCJsaXN0Q29sbGVjdGlvbnMiLCJ0b0FycmF5IiwibWFwIiwibyIsIm5hbWUiLCJQcm9taXNlIiwiYWxsIiwiY29sTmFtZSIsImZpbGUiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwicmVhZEZpbGVTeW5jIiwiX19kaXJuYW1lIiwiZm9yRWFjaCIsImQiLCJpIiwiX2lkIiwiY3JlYXRlRnJvbUhleFN0cmluZyIsImluZGV4T2YiLCJjb25zb2xlIiwibG9nIiwiZHJvcENvbGxlY3Rpb24iLCJyZXN1bHQiLCJjb2xsZWN0aW9uIiwiaW5zZXJ0TWFueSIsImluc2VydGVkQ291bnQiLCJzZWVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFFQTs7OztBQUNBOzs7Ozs7QUFFQSxNQUFNQSxtQkFBbUIsT0FBekI7OzsrQkFFZSxXQUFvQkMsRUFBcEIsRUFBNkI7QUFDMUMsVUFBTUMsUUFBUSxDQUFDLE9BQUQsQ0FBZDs7QUFFQSxVQUFNQyxrQkFBa0IsQ0FBQyxNQUFNRixHQUFHRyxlQUFILEdBQXFCQyxPQUFyQixFQUFQLEVBQXVDQyxHQUF2QyxDQUEyQztBQUFBLGFBQUtDLEVBQUVDLElBQVA7QUFBQSxLQUEzQyxDQUF4Qjs7QUFFQSxXQUFPQyxRQUFRQyxHQUFSLENBQ0xSLE1BQU1JLEdBQU4sQ0FBVSxnQkFBUTtBQUNoQixhQUFPLGtCQUFDLGFBQWlCO0FBQ3ZCLGNBQU1LLFVBQVcsR0FBRVgsb0JBQW9CLEVBQUcsR0FBRVksSUFBSyxFQUFqRDtBQUNBLGNBQU1DLE9BQU9DLEtBQUtDLEtBQUwsQ0FBVyxhQUFHQyxZQUFILENBQWlCLEdBQUVDLFNBQVUsSUFBR0wsSUFBSyxPQUFyQyxFQUE2QyxNQUE3QyxDQUFYLENBQWI7QUFDQUMsYUFBS0ssT0FBTCxDQUFhLFVBQUNDLENBQUQsRUFBSUMsQ0FBSixFQUFVO0FBQ3JCUCxlQUFLTyxDQUFMLEVBQVFDLEdBQVIsR0FBYyxrQkFBU0MsbUJBQVQsQ0FBNkJULEtBQUtPLENBQUwsRUFBUUMsR0FBckMsQ0FBZDtBQUNELFNBRkQ7QUFHQSxZQUFJbEIsZ0JBQWdCb0IsT0FBaEIsQ0FBd0JaLE9BQXhCLElBQW1DLENBQUMsQ0FBeEMsRUFBMkM7QUFDekNhLGtCQUFRQyxHQUFSLENBQWEsTUFBS2QsT0FBUSxXQUExQjtBQUNBLGdCQUFNVixHQUFHeUIsY0FBSCxDQUFrQmYsT0FBbEIsQ0FBTjtBQUNEO0FBQ0QsY0FBTWdCLFNBQVMsTUFBTTFCLEdBQUcyQixVQUFILENBQWNqQixPQUFkLEVBQXVCa0IsVUFBdkIsQ0FBa0NoQixJQUFsQyxDQUFyQjtBQUNBVyxnQkFBUUMsR0FBUixDQUFhLE1BQUtkLE9BQVEsa0JBQWlCZ0IsT0FBT0csYUFBYyxVQUFoRTtBQUNELE9BWk0sR0FBUDtBQWFELEtBZEQsQ0FESyxDQUFQO0FBaUJELEc7O1dBdEI2QkMsSTs7OztTQUFBQSxJIiwiZmlsZSI6InNlZWQuanMiLCJzb3VyY2VSb290IjoiL2FwcC9zY2hlbWEvZGF0YSIsInNvdXJjZXNDb250ZW50IjpbIi8qIEBmbG93ICovXG5cbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgeyBPYmplY3RJRCB9IGZyb20gJ21vbmdvZGInO1xuXG5jb25zdCBjb2xsZWN0aW9uUHJlZml4ID0gJ3VzZXJfJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gc2VlZChkYjogYW55KSB7XG4gIGNvbnN0IGZpbGVzID0gWyd1c2VycyddO1xuXG4gIGNvbnN0IGNvbGxlY3Rpb25OYW1lcyA9IChhd2FpdCBkYi5saXN0Q29sbGVjdGlvbnMoKS50b0FycmF5KCkpLm1hcChvID0+IG8ubmFtZSk7XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKFxuICAgIGZpbGVzLm1hcChmaWxlID0+IHtcbiAgICAgIHJldHVybiAoYXN5bmMgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IGNvbE5hbWUgPSBgJHtjb2xsZWN0aW9uUHJlZml4IHx8ICcnfSR7ZmlsZX1gO1xuICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoYCR7X19kaXJuYW1lfS8ke2ZpbGV9Lmpzb25gLCAndXRmOCcpKTtcbiAgICAgICAgZGF0YS5mb3JFYWNoKChkLCBpKSA9PiB7XG4gICAgICAgICAgZGF0YVtpXS5faWQgPSBPYmplY3RJRC5jcmVhdGVGcm9tSGV4U3RyaW5nKGRhdGFbaV0uX2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb2xsZWN0aW9uTmFtZXMuaW5kZXhPZihjb2xOYW1lKSA+IC0xKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYCAgJyR7Y29sTmFtZX0nIGRyb3BwZWRgKTtcbiAgICAgICAgICBhd2FpdCBkYi5kcm9wQ29sbGVjdGlvbihjb2xOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKGNvbE5hbWUpLmluc2VydE1hbnkoZGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGAgICcke2NvbE5hbWV9JyBjcmVhdGVkIHdpdGggJHtyZXN1bHQuaW5zZXJ0ZWRDb3VudH0gcmVjb3Jkc2ApO1xuICAgICAgfSkoKTtcbiAgICB9KVxuICApO1xufSJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "seed.js"
      ],
      "names": [
        "collectionPrefix",
        "db",
        "files",
        "collectionNames",
        "listCollections",
        "toArray",
        "map",
        "o",
        "name",
        "Promise",
        "all",
        "colName",
        "file",
        "data",
        "JSON",
        "parse",
        "readFileSync",
        "__dirname",
        "forEach",
        "d",
        "i",
        "_id",
        "createFromHexString",
        "indexOf",
        "console",
        "log",
        "dropCollection",
        "result",
        "collection",
        "insertMany",
        "insertedCount",
        "seed"
      ],
      "mappings": ";;;;;;AAEA;;;;AACA;;;;;;AAEA,MAAMA,mBAAmB,OAAzB;;;+BAEe,WAAoBC,EAApB,EAA6B;AAC1C,UAAMC,QAAQ,CAAC,OAAD,CAAd;;AAEA,UAAMC,kBAAkB,CAAC,MAAMF,GAAGG,eAAH,GAAqBC,OAArB,EAAP,EAAuCC,GAAvC,CAA2C;AAAA,aAAKC,EAAEC,IAAP;AAAA,KAA3C,CAAxB;;AAEA,WAAOC,QAAQC,GAAR,CACLR,MAAMI,GAAN,CAAU,gBAAQ;AAChB,aAAO,kBAAC,aAAiB;AACvB,cAAMK,UAAW,GAAEX,oBAAoB,EAAG,GAAEY,IAAK,EAAjD;AACA,cAAMC,OAAOC,KAAKC,KAAL,CAAW,aAAGC,YAAH,CAAiB,GAAEC,SAAU,IAAGL,IAAK,OAArC,EAA6C,MAA7C,CAAX,CAAb;AACAC,aAAKK,OAAL,CAAa,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACrBP,eAAKO,CAAL,EAAQC,GAAR,GAAc,kBAASC,mBAAT,CAA6BT,KAAKO,CAAL,EAAQC,GAArC,CAAd;AACD,SAFD;AAGA,YAAIlB,gBAAgBoB,OAAhB,CAAwBZ,OAAxB,IAAmC,CAAC,CAAxC,EAA2C;AACzCa,kBAAQC,GAAR,CAAa,MAAKd,OAAQ,WAA1B;AACA,gBAAMV,GAAGyB,cAAH,CAAkBf,OAAlB,CAAN;AACD;AACD,cAAMgB,SAAS,MAAM1B,GAAG2B,UAAH,CAAcjB,OAAd,EAAuBkB,UAAvB,CAAkChB,IAAlC,CAArB;AACAW,gBAAQC,GAAR,CAAa,MAAKd,OAAQ,kBAAiBgB,OAAOG,aAAc,UAAhE;AACD,OAZM,GAAP;AAaD,KAdD,CADK,CAAP;AAiBD,G;;WAtB6BC,I;;;;SAAAA,I",
      "file": "seed.js",
      "sourceRoot": "/app/schema/data",
      "sourcesContent": [
        "/* @flow */\n\nimport fs from 'fs';\nimport { ObjectID } from 'mongodb';\n\nconst collectionPrefix = 'user_';\n\nexport default async function seed(db: any) {\n  const files = ['users'];\n\n  const collectionNames = (await db.listCollections().toArray()).map(o => o.name);\n\n  return Promise.all(\n    files.map(file => {\n      return (async function() {\n        const colName = `${collectionPrefix || ''}${file}`;\n        const data = JSON.parse(fs.readFileSync(`${__dirname}/${file}.json`, 'utf8'));\n        data.forEach((d, i) => {\n          data[i]._id = ObjectID.createFromHexString(data[i]._id);\n        });\n        if (collectionNames.indexOf(colName) > -1) {\n          console.log(`  '${colName}' dropped`);\n          await db.dropCollection(colName);\n        }\n        const result = await db.collection(colName).insertMany(data);\n        console.log(`  '${colName}' created with ${result.insertedCount} records`);\n      })();\n    })\n  );\n}"
      ]
    },
    "mtime": 1521190125597
  },
  "{\"filename\":\"/app/server.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "body-parser",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "bodyParser"
              }
            ]
          },
          {
            "source": "cors",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "cors"
              }
            ]
          },
          {
            "source": "cookie-parser",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "cookieParser"
              }
            ]
          },
          {
            "source": "express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "express"
              }
            ]
          },
          {
            "source": "graphql-playground-middleware-express",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "expressPlayground"
              }
            ]
          },
          {
            "source": "apollo-server-express",
            "imported": [
              "graphqlExpress",
              "graphiqlExpress"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "graphqlExpress",
                "local": "graphqlExpress"
              },
              {
                "kind": "named",
                "imported": "graphiqlExpress",
                "local": "graphiqlExpress"
              }
            ]
          },
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "./middleware/cookie-authorization",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "cookieAuthorization"
              }
            ]
          },
          {
            "source": "./schema",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "lifescopeSchema"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/server.js",
      "filenameRelative": "/app/server.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "server.js",
      "sourceFileName": "server.js",
      "sourceRoot": "/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "server"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _bodyParser = require('body-parser');\n\nvar _bodyParser2 = _interopRequireDefault(_bodyParser);\n\nvar _cors = require('cors');\n\nvar _cors2 = _interopRequireDefault(_cors);\n\nvar _cookieParser = require('cookie-parser');\n\nvar _cookieParser2 = _interopRequireDefault(_cookieParser);\n\nvar _express = require('express');\n\nvar _express2 = _interopRequireDefault(_express);\n\nvar _graphqlPlaygroundMiddlewareExpress = require('graphql-playground-middleware-express');\n\nvar _graphqlPlaygroundMiddlewareExpress2 = _interopRequireDefault(_graphqlPlaygroundMiddlewareExpress);\n\nvar _apolloServerExpress = require('apollo-server-express');\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _cookieAuthorization = require('./middleware/cookie-authorization');\n\nvar _cookieAuthorization2 = _interopRequireDefault(_cookieAuthorization);\n\nvar _schema = require('./schema');\n\nvar _schema2 = _interopRequireDefault(_schema);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst MONGODB_URI = process.env.MONGODB_URI;\n\nconst Schema = _mongoose2.default.Schema;\nconst server = (0, _express2.default)();\nconst opts = {\n  autoReconnect: true,\n  reconnectTries: Number.MAX_VALUE,\n  reconnectInterval: 1000\n};\n\nserver.use((0, _cors2.default)());\n\n_mongoose2.default.connect(MONGODB_URI, opts);\n\nconst mongooseConnect = _mongoose2.default.connection;\n\nmongooseConnect.on('error', e => {\n  if (e.message.code === 'ETIMEDOUT') {\n    console.log(e);\n    _mongoose2.default.connect(MONGODB_URI, opts);\n  }\n  console.log(e);\n});\n\nmongooseConnect.once('open', () => {\n  console.log(`MongoDB successfully connected to ${MONGODB_URI}`);\n});\n\nserver.use(_schema2.default.uri, _bodyParser2.default.json(), (0, _cookieParser2.default)(), _cookieAuthorization2.default, (0, _apolloServerExpress.graphqlExpress)({\n  schema: _schema2.default.schema,\n  tracing: true,\n  // formatError: error => ({\n  //   message: error.message,\n  //   stack: !error.message.match(/for security reason/i) ? error.stack.split('\\n') : null,\n  // }),\n  formatError: error => ({\n    message: error.message,\n    locations: error.locations,\n    stack: error.stack ? error.stack.split('\\n') : [],\n    path: error.path\n  })\n}));\n\n// http://localhost:3000/gql-i/\nserver.get(`${_schema2.default.uri}-i`, (0, _apolloServerExpress.graphiqlExpress)({ endpointURL: _schema2.default.uri }));\n\n// http://localhost:3000/gql-p/\nserver.get(`${_schema2.default.uri}-p`, (0, _graphqlPlaygroundMiddlewareExpress2.default)({ endpoint: _schema2.default.uri }));\n\n// http://localhost:3000/user/\nserver.listen(process.env.PORT);\n\nconsole.log('PORT: ' + process.env.PORT);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJTY2hlbWEiLCJzZXJ2ZXIiLCJvcHRzIiwiYXV0b1JlY29ubmVjdCIsInJlY29ubmVjdFRyaWVzIiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwicmVjb25uZWN0SW50ZXJ2YWwiLCJ1c2UiLCJjb25uZWN0IiwibW9uZ29vc2VDb25uZWN0IiwiY29ubmVjdGlvbiIsIm9uIiwiZSIsIm1lc3NhZ2UiLCJjb2RlIiwiY29uc29sZSIsImxvZyIsIm9uY2UiLCJ1cmkiLCJqc29uIiwic2NoZW1hIiwidHJhY2luZyIsImZvcm1hdEVycm9yIiwiZXJyb3IiLCJsb2NhdGlvbnMiLCJzdGFjayIsInNwbGl0IiwicGF0aCIsImdldCIsImVuZHBvaW50VVJMIiwiZW5kcG9pbnQiLCJsaXN0ZW4iLCJQT1JUIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7Ozs7OztBQUVBLE1BQU1BLGNBQWNDLFFBQVFDLEdBQVIsQ0FBWUYsV0FBaEM7O0FBRUEsTUFBTUcsU0FBUyxtQkFBU0EsTUFBeEI7QUFDQSxNQUFNQyxTQUFTLHdCQUFmO0FBQ0EsTUFBTUMsT0FBTztBQUNYQyxpQkFBZSxJQURKO0FBRVhDLGtCQUFnQkMsT0FBT0MsU0FGWjtBQUdYQyxxQkFBbUI7QUFIUixDQUFiOztBQU1BTixPQUFPTyxHQUFQLENBQVcscUJBQVg7O0FBRUEsbUJBQVNDLE9BQVQsQ0FBaUJaLFdBQWpCLEVBQThCSyxJQUE5Qjs7QUFFQSxNQUFNUSxrQkFBa0IsbUJBQVNDLFVBQWpDOztBQUVBRCxnQkFBZ0JFLEVBQWhCLENBQW1CLE9BQW5CLEVBQTRCQyxLQUFLO0FBQy9CLE1BQUlBLEVBQUVDLE9BQUYsQ0FBVUMsSUFBVixLQUFtQixXQUF2QixFQUFvQztBQUNsQ0MsWUFBUUMsR0FBUixDQUFZSixDQUFaO0FBQ0EsdUJBQVNKLE9BQVQsQ0FBaUJaLFdBQWpCLEVBQThCSyxJQUE5QjtBQUNEO0FBQ0RjLFVBQVFDLEdBQVIsQ0FBWUosQ0FBWjtBQUNELENBTkQ7O0FBUUFILGdCQUFnQlEsSUFBaEIsQ0FBcUIsTUFBckIsRUFBNkIsTUFBTTtBQUNqQ0YsVUFBUUMsR0FBUixDQUFhLHFDQUFvQ3BCLFdBQVksRUFBN0Q7QUFDRCxDQUZEOztBQUlBSSxPQUFPTyxHQUFQLENBQ0UsaUJBQWdCVyxHQURsQixFQUVFLHFCQUFXQyxJQUFYLEVBRkYsRUFHRSw2QkFIRixpQ0FLRSx5Q0FBZTtBQUNiQyxVQUFRLGlCQUFnQkEsTUFEWDtBQUViQyxXQUFTLElBRkk7QUFHYjtBQUNBO0FBQ0E7QUFDQTtBQUNBQyxlQUFhQyxVQUFVO0FBQ3JCVixhQUFTVSxNQUFNVixPQURNO0FBRXJCVyxlQUFXRCxNQUFNQyxTQUZJO0FBR3JCQyxXQUFPRixNQUFNRSxLQUFOLEdBQWNGLE1BQU1FLEtBQU4sQ0FBWUMsS0FBWixDQUFrQixJQUFsQixDQUFkLEdBQXdDLEVBSDFCO0FBSXJCQyxVQUFNSixNQUFNSTtBQUpTLEdBQVY7QUFQQSxDQUFmLENBTEY7O0FBb0JBO0FBQ0EzQixPQUFPNEIsR0FBUCxDQUFZLEdBQUUsaUJBQWdCVixHQUFJLElBQWxDLEVBQXVDLDBDQUFnQixFQUFFVyxhQUFhLGlCQUFnQlgsR0FBL0IsRUFBaEIsQ0FBdkM7O0FBRUE7QUFDQWxCLE9BQU80QixHQUFQLENBQVksR0FBRSxpQkFBZ0JWLEdBQUksSUFBbEMsRUFBdUMsa0RBQWtCLEVBQUVZLFVBQVUsaUJBQWdCWixHQUE1QixFQUFsQixDQUF2Qzs7QUFFQTtBQUNBbEIsT0FBTytCLE1BQVAsQ0FBY2xDLFFBQVFDLEdBQVIsQ0FBWWtDLElBQTFCOztBQUVBakIsUUFBUUMsR0FBUixDQUFZLFdBQVduQixRQUFRQyxHQUFSLENBQVlrQyxJQUFuQyIsImZpbGUiOiJzZXJ2ZXIuanMiLCJzb3VyY2VSb290IjoiL2FwcCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGV4cHJlc3NQbGF5Z3JvdW5kIGZyb20gJ2dyYXBocWwtcGxheWdyb3VuZC1taWRkbGV3YXJlLWV4cHJlc3MnO1xuaW1wb3J0IHsgZ3JhcGhxbEV4cHJlc3MsIGdyYXBoaXFsRXhwcmVzcyB9IGZyb20gJ2Fwb2xsby1zZXJ2ZXItZXhwcmVzcyc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5pbXBvcnQgY29va2llQXV0aG9yaXphdGlvbiBmcm9tICcuL21pZGRsZXdhcmUvY29va2llLWF1dGhvcml6YXRpb24nO1xuaW1wb3J0IGxpZmVzY29wZVNjaGVtYSBmcm9tICcuL3NjaGVtYSc7XG5cbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkk7XG5cbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcbmNvbnN0IHNlcnZlciA9IGV4cHJlc3MoKTtcbmNvbnN0IG9wdHMgPSB7XG4gIGF1dG9SZWNvbm5lY3Q6IHRydWUsXG4gIHJlY29ubmVjdFRyaWVzOiBOdW1iZXIuTUFYX1ZBTFVFLFxuICByZWNvbm5lY3RJbnRlcnZhbDogMTAwMCxcbn07XG5cbnNlcnZlci51c2UoY29ycygpKTtcblxubW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cyk7XG5cbmNvbnN0IG1vbmdvb3NlQ29ubmVjdCA9IG1vbmdvb3NlLmNvbm5lY3Rpb247XG5cbm1vbmdvb3NlQ29ubmVjdC5vbignZXJyb3InLCBlID0+IHtcbiAgaWYgKGUubWVzc2FnZS5jb2RlID09PSAnRVRJTUVET1VUJykge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICAgIG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkksIG9wdHMpO1xuICB9XG4gIGNvbnNvbGUubG9nKGUpO1xufSk7XG5cbm1vbmdvb3NlQ29ubmVjdC5vbmNlKCdvcGVuJywgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgTW9uZ29EQiBzdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvICR7TU9OR09EQl9VUkl9YCk7XG59KTtcblxuc2VydmVyLnVzZShcbiAgbGlmZXNjb3BlU2NoZW1hLnVyaSwgXG4gIGJvZHlQYXJzZXIuanNvbigpLCBcbiAgY29va2llUGFyc2VyKCksXG4gIGNvb2tpZUF1dGhvcml6YXRpb24sXG4gIGdyYXBocWxFeHByZXNzKHsgXG4gICAgc2NoZW1hOiBsaWZlc2NvcGVTY2hlbWEuc2NoZW1hLCBcbiAgICB0cmFjaW5nOiB0cnVlLFxuICAgIC8vIGZvcm1hdEVycm9yOiBlcnJvciA9PiAoe1xuICAgIC8vICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAvLyAgIHN0YWNrOiAhZXJyb3IubWVzc2FnZS5tYXRjaCgvZm9yIHNlY3VyaXR5IHJlYXNvbi9pKSA/IGVycm9yLnN0YWNrLnNwbGl0KCdcXG4nKSA6IG51bGwsXG4gICAgLy8gfSksXG4gICAgZm9ybWF0RXJyb3I6IGVycm9yID0+ICh7XG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgbG9jYXRpb25zOiBlcnJvci5sb2NhdGlvbnMsXG4gICAgICBzdGFjazogZXJyb3Iuc3RhY2sgPyBlcnJvci5zdGFjay5zcGxpdCgnXFxuJykgOiBbXSxcbiAgICAgIHBhdGg6IGVycm9yLnBhdGhcbiAgICB9KVxuICB9KSk7XG5cbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9ncWwtaS9cbnNlcnZlci5nZXQoYCR7bGlmZXNjb3BlU2NoZW1hLnVyaX0taWAsIGdyYXBoaXFsRXhwcmVzcyh7IGVuZHBvaW50VVJMOiBsaWZlc2NvcGVTY2hlbWEudXJpIH0pKTtcblxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2dxbC1wL1xuc2VydmVyLmdldChgJHtsaWZlc2NvcGVTY2hlbWEudXJpfS1wYCwgZXhwcmVzc1BsYXlncm91bmQoeyBlbmRwb2ludDogbGlmZXNjb3BlU2NoZW1hLnVyaSB9KSk7XG5cbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2VyL1xuc2VydmVyLmxpc3Rlbihwcm9jZXNzLmVudi5QT1JUKTtcblxuY29uc29sZS5sb2coJ1BPUlQ6ICcgKyBwcm9jZXNzLmVudi5QT1JUKTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "MONGODB_URI",
        "process",
        "env",
        "Schema",
        "server",
        "opts",
        "autoReconnect",
        "reconnectTries",
        "Number",
        "MAX_VALUE",
        "reconnectInterval",
        "use",
        "connect",
        "mongooseConnect",
        "connection",
        "on",
        "e",
        "message",
        "code",
        "console",
        "log",
        "once",
        "uri",
        "json",
        "schema",
        "tracing",
        "formatError",
        "error",
        "locations",
        "stack",
        "split",
        "path",
        "get",
        "endpointURL",
        "endpoint",
        "listen",
        "PORT"
      ],
      "mappings": ";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAEA;;;;AACA;;;;;;AAEA,MAAMA,cAAcC,QAAQC,GAAR,CAAYF,WAAhC;;AAEA,MAAMG,SAAS,mBAASA,MAAxB;AACA,MAAMC,SAAS,wBAAf;AACA,MAAMC,OAAO;AACXC,iBAAe,IADJ;AAEXC,kBAAgBC,OAAOC,SAFZ;AAGXC,qBAAmB;AAHR,CAAb;;AAMAN,OAAOO,GAAP,CAAW,qBAAX;;AAEA,mBAASC,OAAT,CAAiBZ,WAAjB,EAA8BK,IAA9B;;AAEA,MAAMQ,kBAAkB,mBAASC,UAAjC;;AAEAD,gBAAgBE,EAAhB,CAAmB,OAAnB,EAA4BC,KAAK;AAC/B,MAAIA,EAAEC,OAAF,CAAUC,IAAV,KAAmB,WAAvB,EAAoC;AAClCC,YAAQC,GAAR,CAAYJ,CAAZ;AACA,uBAASJ,OAAT,CAAiBZ,WAAjB,EAA8BK,IAA9B;AACD;AACDc,UAAQC,GAAR,CAAYJ,CAAZ;AACD,CAND;;AAQAH,gBAAgBQ,IAAhB,CAAqB,MAArB,EAA6B,MAAM;AACjCF,UAAQC,GAAR,CAAa,qCAAoCpB,WAAY,EAA7D;AACD,CAFD;;AAIAI,OAAOO,GAAP,CACE,iBAAgBW,GADlB,EAEE,qBAAWC,IAAX,EAFF,EAGE,6BAHF,iCAKE,yCAAe;AACbC,UAAQ,iBAAgBA,MADX;AAEbC,WAAS,IAFI;AAGb;AACA;AACA;AACA;AACAC,eAAaC,UAAU;AACrBV,aAASU,MAAMV,OADM;AAErBW,eAAWD,MAAMC,SAFI;AAGrBC,WAAOF,MAAME,KAAN,GAAcF,MAAME,KAAN,CAAYC,KAAZ,CAAkB,IAAlB,CAAd,GAAwC,EAH1B;AAIrBC,UAAMJ,MAAMI;AAJS,GAAV;AAPA,CAAf,CALF;;AAoBA;AACA3B,OAAO4B,GAAP,CAAY,GAAE,iBAAgBV,GAAI,IAAlC,EAAuC,0CAAgB,EAAEW,aAAa,iBAAgBX,GAA/B,EAAhB,CAAvC;;AAEA;AACAlB,OAAO4B,GAAP,CAAY,GAAE,iBAAgBV,GAAI,IAAlC,EAAuC,kDAAkB,EAAEY,UAAU,iBAAgBZ,GAA5B,EAAlB,CAAvC;;AAEA;AACAlB,OAAO+B,MAAP,CAAclC,QAAQC,GAAR,CAAYkC,IAA1B;;AAEAjB,QAAQC,GAAR,CAAY,WAAWnB,QAAQC,GAAR,CAAYkC,IAAnC",
      "file": "server.js",
      "sourceRoot": "/app",
      "sourcesContent": [
        "import bodyParser from 'body-parser';\nimport cors from 'cors';\nimport cookieParser from 'cookie-parser';\nimport express from 'express';\nimport expressPlayground from 'graphql-playground-middleware-express';\nimport { graphqlExpress, graphiqlExpress } from 'apollo-server-express';\nimport mongoose from 'mongoose';\n\nimport cookieAuthorization from './middleware/cookie-authorization';\nimport lifescopeSchema from './schema';\n\nconst MONGODB_URI = process.env.MONGODB_URI;\n\nconst Schema = mongoose.Schema;\nconst server = express();\nconst opts = {\n  autoReconnect: true,\n  reconnectTries: Number.MAX_VALUE,\n  reconnectInterval: 1000,\n};\n\nserver.use(cors());\n\nmongoose.connect(MONGODB_URI, opts);\n\nconst mongooseConnect = mongoose.connection;\n\nmongooseConnect.on('error', e => {\n  if (e.message.code === 'ETIMEDOUT') {\n    console.log(e);\n    mongoose.connect(MONGODB_URI, opts);\n  }\n  console.log(e);\n});\n\nmongooseConnect.once('open', () => {\n  console.log(`MongoDB successfully connected to ${MONGODB_URI}`);\n});\n\nserver.use(\n  lifescopeSchema.uri, \n  bodyParser.json(), \n  cookieParser(),\n  cookieAuthorization,\n  graphqlExpress({ \n    schema: lifescopeSchema.schema, \n    tracing: true,\n    // formatError: error => ({\n    //   message: error.message,\n    //   stack: !error.message.match(/for security reason/i) ? error.stack.split('\\n') : null,\n    // }),\n    formatError: error => ({\n      message: error.message,\n      locations: error.locations,\n      stack: error.stack ? error.stack.split('\\n') : [],\n      path: error.path\n    })\n  }));\n\n// http://localhost:3000/gql-i/\nserver.get(`${lifescopeSchema.uri}-i`, graphiqlExpress({ endpointURL: lifescopeSchema.uri }));\n\n// http://localhost:3000/gql-p/\nserver.get(`${lifescopeSchema.uri}-p`, expressPlayground({ endpoint: lifescopeSchema.uri }));\n\n// http://localhost:3000/user/\nserver.listen(process.env.PORT);\n\nconsole.log('PORT: ' + process.env.PORT);\n"
      ]
    },
    "mtime": 1521505063991
  },
  "{\"filename\":\"/app/schema/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/schema\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "./schema",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "schema"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/schema/index.js",
      "filenameRelative": "/app/schema/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/schema",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/schema",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _schema = require('./schema');\n\nvar _schema2 = _interopRequireDefault(_schema);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst queries = [{\n  title: 'Find by id',\n  query: `\n{\n  userById(_id: \"57bb44dd21d2befb7ca3f010\") {\n    _id\n    name\n    languages {\n      language\n      skill\n    }\n    contacts {\n      email\n    }\n    gender\n    age\n  }\n}\n      `\n}, {\n  title: 'Find one User',\n  query: `\n{\n  userOne(filter: { age: 18 }, sort: _ID_ASC) {\n    name\n    languages {\n      language\n      skill\n    }\n    contacts {\n      email\n    }\n    gender\n    age\n  }\n}\n      `\n}, {\n  title: 'Find many Users',\n  query: `\n{\n  userMany(filter: { gender: male }, limit: 5, sort: _ID_ASC) {\n    name\n    languages {\n      language\n      skill\n    }\n    contacts {\n      email\n    }\n    gender\n    age\n  }\n}\n      `\n}, {\n  title: 'Find many Users (by geo distance)',\n  query: `\n{\n  distance_5_km: userMany(filter: {\n    geoDistance: {\n      lng: 76.911982,\n      lat: 43.233893,\n      distance: 5000,\n    }\n  }) {\n    name\n    address {\n      geo\n    }\n  }\n  distance_100_km: userMany(filter: {\n    geoDistance: {\n      lng: 76.911982,\n      lat: 43.233893,\n      distance: 100000,\n    }\n  }) {\n    name\n    address {\n      geo\n    }\n  }\n}\n      `\n}, {\n  title: 'Find User with field of MIXED type',\n  query: `\n{\n  userById(_id: \"57bb44dd21d2befb7ca3f001\") {\n    _id\n    name\n    someMixed\n  }\n}\n      `\n}, {\n  title: 'Create user mutation (with arg of MIXED type)',\n  query: `\nmutation {\n  userCreate(record: {\n    name: \"My Name\",\n    age: 24,\n    gender: ladyboy,\n    contacts: {\n      email: \"mail@example.com\",\n      phones: [\n        \"111-222-333-444\",\n        \"444-555-666-777\"\n      ]\n    },\n    someMixed: {\n      a: 1,\n      b: 2,\n      c: [ 1, 2, 3, true, false, { sub: 1 }]\n    }\n  }) {\n    recordId\n    record {\n      name\n      age\n      gender\n      contacts {\n        email\n        phones\n      }\n      someMixed\n    }\n  }\n}\n      `\n}, {\n  title: 'Pagination',\n  query: `\n{\n  userPagination(filter: { gender: male }, perPage: 2, page: 2, sort: _ID_ASC) {\n    items {\n      name\n      languages {\n        language\n        skill\n      }\n      contacts {\n        email\n      }\n      gender\n      age\n    }\n    count\n    pageInfo {\n      currentPage\n      perPage\n      itemCount\n      pageCount\n      hasPreviousPage\n      hasNextPage\n    }\n  }\n}\n      `\n}];\n\nexports.default = {\n  uri: '/gql',\n  schema: _schema2.default,\n  title: 'LifeScope GraphQL API',\n  description: 'This schema implements all data collected, organized, and analyzed by the LifeScope platform',\n  github: 'https://github.com/bitscooplabs/lifescope',\n  queries: queries\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInF1ZXJpZXMiLCJ0aXRsZSIsInF1ZXJ5IiwidXJpIiwic2NoZW1hIiwiZGVzY3JpcHRpb24iLCJnaXRodWIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBOzs7Ozs7QUFFQSxNQUFNQSxVQUFVLENBQ1o7QUFDRUMsU0FBTyxZQURUO0FBRUVDLFNBQVE7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRlYsQ0FEWSxFQXFCWjtBQUNFRCxTQUFPLGVBRFQ7QUFFRUMsU0FBUTs7Ozs7Ozs7Ozs7Ozs7OztBQUZWLENBckJZLEVBd0NaO0FBQ0VELFNBQU8saUJBRFQ7QUFFRUMsU0FBUTs7Ozs7Ozs7Ozs7Ozs7OztBQUZWLENBeENZLEVBMkRaO0FBQ0VELFNBQU8sbUNBRFQ7QUFFRUMsU0FBUTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUZWLENBM0RZLEVBMEZaO0FBQ0VELFNBQU8sb0NBRFQ7QUFFRUMsU0FBUTs7Ozs7Ozs7O0FBRlYsQ0ExRlksRUFzR1o7QUFDRUQsU0FBTywrQ0FEVDtBQUVFQyxTQUFROzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFGVixDQXRHWSxFQTBJWjtBQUNFRCxTQUFPLFlBRFQ7QUFFRUMsU0FBUTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRlYsQ0ExSVksQ0FBaEI7O2tCQTJLZTtBQUNiQyxPQUFLLE1BRFE7QUFFYkMsMEJBRmE7QUFHYkgsU0FBTyx1QkFITTtBQUliSSxlQUNFLDhGQUxXO0FBTWJDLFVBQVEsMkNBTks7QUFPYk4sV0FBU0E7QUFQSSxDIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2NoZW1hIiwic291cmNlc0NvbnRlbnQiOlsiLyogQGZsb3cgKi9cblxuaW1wb3J0IHNjaGVtYSBmcm9tICcuL3NjaGVtYSc7XG5cbmNvbnN0IHF1ZXJpZXMgPSBbXG4gICAge1xuICAgICAgdGl0bGU6ICdGaW5kIGJ5IGlkJyxcbiAgICAgIHF1ZXJ5OiBgXG57XG4gIHVzZXJCeUlkKF9pZDogXCI1N2JiNDRkZDIxZDJiZWZiN2NhM2YwMTBcIikge1xuICAgIF9pZFxuICAgIG5hbWVcbiAgICBsYW5ndWFnZXMge1xuICAgICAgbGFuZ3VhZ2VcbiAgICAgIHNraWxsXG4gICAgfVxuICAgIGNvbnRhY3RzIHtcbiAgICAgIGVtYWlsXG4gICAgfVxuICAgIGdlbmRlclxuICAgIGFnZVxuICB9XG59XG4gICAgICBgLFxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdGaW5kIG9uZSBVc2VyJyxcbiAgICAgIHF1ZXJ5OiBgXG57XG4gIHVzZXJPbmUoZmlsdGVyOiB7IGFnZTogMTggfSwgc29ydDogX0lEX0FTQykge1xuICAgIG5hbWVcbiAgICBsYW5ndWFnZXMge1xuICAgICAgbGFuZ3VhZ2VcbiAgICAgIHNraWxsXG4gICAgfVxuICAgIGNvbnRhY3RzIHtcbiAgICAgIGVtYWlsXG4gICAgfVxuICAgIGdlbmRlclxuICAgIGFnZVxuICB9XG59XG4gICAgICBgLFxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdGaW5kIG1hbnkgVXNlcnMnLFxuICAgICAgcXVlcnk6IGBcbntcbiAgdXNlck1hbnkoZmlsdGVyOiB7IGdlbmRlcjogbWFsZSB9LCBsaW1pdDogNSwgc29ydDogX0lEX0FTQykge1xuICAgIG5hbWVcbiAgICBsYW5ndWFnZXMge1xuICAgICAgbGFuZ3VhZ2VcbiAgICAgIHNraWxsXG4gICAgfVxuICAgIGNvbnRhY3RzIHtcbiAgICAgIGVtYWlsXG4gICAgfVxuICAgIGdlbmRlclxuICAgIGFnZVxuICB9XG59XG4gICAgICBgLFxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdGaW5kIG1hbnkgVXNlcnMgKGJ5IGdlbyBkaXN0YW5jZSknLFxuICAgICAgcXVlcnk6IGBcbntcbiAgZGlzdGFuY2VfNV9rbTogdXNlck1hbnkoZmlsdGVyOiB7XG4gICAgZ2VvRGlzdGFuY2U6IHtcbiAgICAgIGxuZzogNzYuOTExOTgyLFxuICAgICAgbGF0OiA0My4yMzM4OTMsXG4gICAgICBkaXN0YW5jZTogNTAwMCxcbiAgICB9XG4gIH0pIHtcbiAgICBuYW1lXG4gICAgYWRkcmVzcyB7XG4gICAgICBnZW9cbiAgICB9XG4gIH1cbiAgZGlzdGFuY2VfMTAwX2ttOiB1c2VyTWFueShmaWx0ZXI6IHtcbiAgICBnZW9EaXN0YW5jZToge1xuICAgICAgbG5nOiA3Ni45MTE5ODIsXG4gICAgICBsYXQ6IDQzLjIzMzg5MyxcbiAgICAgIGRpc3RhbmNlOiAxMDAwMDAsXG4gICAgfVxuICB9KSB7XG4gICAgbmFtZVxuICAgIGFkZHJlc3Mge1xuICAgICAgZ2VvXG4gICAgfVxuICB9XG59XG4gICAgICBgLFxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdGaW5kIFVzZXIgd2l0aCBmaWVsZCBvZiBNSVhFRCB0eXBlJyxcbiAgICAgIHF1ZXJ5OiBgXG57XG4gIHVzZXJCeUlkKF9pZDogXCI1N2JiNDRkZDIxZDJiZWZiN2NhM2YwMDFcIikge1xuICAgIF9pZFxuICAgIG5hbWVcbiAgICBzb21lTWl4ZWRcbiAgfVxufVxuICAgICAgYCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnQ3JlYXRlIHVzZXIgbXV0YXRpb24gKHdpdGggYXJnIG9mIE1JWEVEIHR5cGUpJyxcbiAgICAgIHF1ZXJ5OiBgXG5tdXRhdGlvbiB7XG4gIHVzZXJDcmVhdGUocmVjb3JkOiB7XG4gICAgbmFtZTogXCJNeSBOYW1lXCIsXG4gICAgYWdlOiAyNCxcbiAgICBnZW5kZXI6IGxhZHlib3ksXG4gICAgY29udGFjdHM6IHtcbiAgICAgIGVtYWlsOiBcIm1haWxAZXhhbXBsZS5jb21cIixcbiAgICAgIHBob25lczogW1xuICAgICAgICBcIjExMS0yMjItMzMzLTQ0NFwiLFxuICAgICAgICBcIjQ0NC01NTUtNjY2LTc3N1wiXG4gICAgICBdXG4gICAgfSxcbiAgICBzb21lTWl4ZWQ6IHtcbiAgICAgIGE6IDEsXG4gICAgICBiOiAyLFxuICAgICAgYzogWyAxLCAyLCAzLCB0cnVlLCBmYWxzZSwgeyBzdWI6IDEgfV1cbiAgICB9XG4gIH0pIHtcbiAgICByZWNvcmRJZFxuICAgIHJlY29yZCB7XG4gICAgICBuYW1lXG4gICAgICBhZ2VcbiAgICAgIGdlbmRlclxuICAgICAgY29udGFjdHMge1xuICAgICAgICBlbWFpbFxuICAgICAgICBwaG9uZXNcbiAgICAgIH1cbiAgICAgIHNvbWVNaXhlZFxuICAgIH1cbiAgfVxufVxuICAgICAgYCxcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnUGFnaW5hdGlvbicsXG4gICAgICBxdWVyeTogYFxue1xuICB1c2VyUGFnaW5hdGlvbihmaWx0ZXI6IHsgZ2VuZGVyOiBtYWxlIH0sIHBlclBhZ2U6IDIsIHBhZ2U6IDIsIHNvcnQ6IF9JRF9BU0MpIHtcbiAgICBpdGVtcyB7XG4gICAgICBuYW1lXG4gICAgICBsYW5ndWFnZXMge1xuICAgICAgICBsYW5ndWFnZVxuICAgICAgICBza2lsbFxuICAgICAgfVxuICAgICAgY29udGFjdHMge1xuICAgICAgICBlbWFpbFxuICAgICAgfVxuICAgICAgZ2VuZGVyXG4gICAgICBhZ2VcbiAgICB9XG4gICAgY291bnRcbiAgICBwYWdlSW5mbyB7XG4gICAgICBjdXJyZW50UGFnZVxuICAgICAgcGVyUGFnZVxuICAgICAgaXRlbUNvdW50XG4gICAgICBwYWdlQ291bnRcbiAgICAgIGhhc1ByZXZpb3VzUGFnZVxuICAgICAgaGFzTmV4dFBhZ2VcbiAgICB9XG4gIH1cbn1cbiAgICAgIGAsXG4gICAgfSxcbiAgXVxuXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgdXJpOiAnL2dxbCcsXG4gIHNjaGVtYSxcbiAgdGl0bGU6ICdMaWZlU2NvcGUgR3JhcGhRTCBBUEknLFxuICBkZXNjcmlwdGlvbjpcbiAgICAnVGhpcyBzY2hlbWEgaW1wbGVtZW50cyBhbGwgZGF0YSBjb2xsZWN0ZWQsIG9yZ2FuaXplZCwgYW5kIGFuYWx5emVkIGJ5IHRoZSBMaWZlU2NvcGUgcGxhdGZvcm0nLFxuICBnaXRodWI6ICdodHRwczovL2dpdGh1Yi5jb20vYml0c2Nvb3BsYWJzL2xpZmVzY29wZScsXG4gIHF1ZXJpZXM6IHF1ZXJpZXMsXG59OyJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "queries",
        "title",
        "query",
        "uri",
        "schema",
        "description",
        "github"
      ],
      "mappings": ";;;;;;AAEA;;;;;;AAEA,MAAMA,UAAU,CACZ;AACEC,SAAO,YADT;AAEEC,SAAQ;;;;;;;;;;;;;;;;;AAFV,CADY,EAqBZ;AACED,SAAO,eADT;AAEEC,SAAQ;;;;;;;;;;;;;;;;AAFV,CArBY,EAwCZ;AACED,SAAO,iBADT;AAEEC,SAAQ;;;;;;;;;;;;;;;;AAFV,CAxCY,EA2DZ;AACED,SAAO,mCADT;AAEEC,SAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAFV,CA3DY,EA0FZ;AACED,SAAO,oCADT;AAEEC,SAAQ;;;;;;;;;AAFV,CA1FY,EAsGZ;AACED,SAAO,+CADT;AAEEC,SAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAFV,CAtGY,EA0IZ;AACED,SAAO,YADT;AAEEC,SAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;AAFV,CA1IY,CAAhB;;kBA2Ke;AACbC,OAAK,MADQ;AAEbC,0BAFa;AAGbH,SAAO,uBAHM;AAIbI,eACE,8FALW;AAMbC,UAAQ,2CANK;AAObN,WAASA;AAPI,C",
      "file": "index.js",
      "sourceRoot": "/app/schema",
      "sourcesContent": [
        "/* @flow */\n\nimport schema from './schema';\n\nconst queries = [\n    {\n      title: 'Find by id',\n      query: `\n{\n  userById(_id: \"57bb44dd21d2befb7ca3f010\") {\n    _id\n    name\n    languages {\n      language\n      skill\n    }\n    contacts {\n      email\n    }\n    gender\n    age\n  }\n}\n      `,\n    },\n    {\n      title: 'Find one User',\n      query: `\n{\n  userOne(filter: { age: 18 }, sort: _ID_ASC) {\n    name\n    languages {\n      language\n      skill\n    }\n    contacts {\n      email\n    }\n    gender\n    age\n  }\n}\n      `,\n    },\n    {\n      title: 'Find many Users',\n      query: `\n{\n  userMany(filter: { gender: male }, limit: 5, sort: _ID_ASC) {\n    name\n    languages {\n      language\n      skill\n    }\n    contacts {\n      email\n    }\n    gender\n    age\n  }\n}\n      `,\n    },\n    {\n      title: 'Find many Users (by geo distance)',\n      query: `\n{\n  distance_5_km: userMany(filter: {\n    geoDistance: {\n      lng: 76.911982,\n      lat: 43.233893,\n      distance: 5000,\n    }\n  }) {\n    name\n    address {\n      geo\n    }\n  }\n  distance_100_km: userMany(filter: {\n    geoDistance: {\n      lng: 76.911982,\n      lat: 43.233893,\n      distance: 100000,\n    }\n  }) {\n    name\n    address {\n      geo\n    }\n  }\n}\n      `,\n    },\n    {\n      title: 'Find User with field of MIXED type',\n      query: `\n{\n  userById(_id: \"57bb44dd21d2befb7ca3f001\") {\n    _id\n    name\n    someMixed\n  }\n}\n      `,\n    },\n    {\n      title: 'Create user mutation (with arg of MIXED type)',\n      query: `\nmutation {\n  userCreate(record: {\n    name: \"My Name\",\n    age: 24,\n    gender: ladyboy,\n    contacts: {\n      email: \"mail@example.com\",\n      phones: [\n        \"111-222-333-444\",\n        \"444-555-666-777\"\n      ]\n    },\n    someMixed: {\n      a: 1,\n      b: 2,\n      c: [ 1, 2, 3, true, false, { sub: 1 }]\n    }\n  }) {\n    recordId\n    record {\n      name\n      age\n      gender\n      contacts {\n        email\n        phones\n      }\n      someMixed\n    }\n  }\n}\n      `,\n    },\n    {\n      title: 'Pagination',\n      query: `\n{\n  userPagination(filter: { gender: male }, perPage: 2, page: 2, sort: _ID_ASC) {\n    items {\n      name\n      languages {\n        language\n        skill\n      }\n      contacts {\n        email\n      }\n      gender\n      age\n    }\n    count\n    pageInfo {\n      currentPage\n      perPage\n      itemCount\n      pageCount\n      hasPreviousPage\n      hasNextPage\n    }\n  }\n}\n      `,\n    },\n  ]\n\n\nexport default {\n  uri: '/gql',\n  schema,\n  title: 'LifeScope GraphQL API',\n  description:\n    'This schema implements all data collected, organized, and analyzed by the LifeScope platform',\n  github: 'https://github.com/bitscooplabs/lifescope',\n  queries: queries,\n};"
      ]
    },
    "mtime": 1521430958026
  },
  "{\"filename\":\"/app/schema/schema.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/schema\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "graphql-compose",
            "imported": [
              "SchemaComposer"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "SchemaComposer",
                "local": "SchemaComposer"
              }
            ]
          },
          {
            "source": "./models/user",
            "imported": [
              "UserTC"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "UserTC",
                "local": "UserTC"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/schema/schema.js",
      "filenameRelative": "/app/schema/schema.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "schema.js",
      "sourceFileName": "schema.js",
      "sourceRoot": "/app/schema",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/schema",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "schema"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _graphqlCompose = require('graphql-compose');\n\nvar _user = require('./models/user');\n\nconst GQC = new _graphqlCompose.SchemaComposer();\n\n// create GraphQL Schema with all available resolvers\n\n\n// import { ConnectionTC } from './models/connections';\n// import { ContactTC } from './models/contacts';\n// import { ContentTC } from './models/content';\n// import { EventTC } from './models/events';\n// import { LocationTC } from './models/locations';\n// import { ProviderTC } from './models/providers';\n// import { SearchTC } from './models/searches';\n// import { SessionTC } from './models/session';\n// import { TagTC } from './models/tags';\n// import { ThingTC } from './models/things';\n\nGQC.rootQuery().addFields({\n  //Connections\n  //   connectionById: ConnectionTC.getResolver('findById'),\n  //   connectionByIds: ConnectionTC.getResolver('findByIds'),\n  //   connectionOne: ConnectionTC.getResolver('findOne'),\n  //   connectionMany: ConnectionTC.getResolver('findMany'),\n  //   connectionTotal: ConnectionTC.getResolver('count'),\n  //   connectionConnection: ConnectionTC.getResolver('connection'),\n  //   connectionPagination: ConnectionTC.getResolver('pagination'),\n\n  //   //Contacts\n  //   contactById: ContactTC.getResolver('findById'),\n  //   contactByIds: ContactTC.getResolver('findByIds'),\n  //   contactOne: ContactTC.getResolver('findOne'),\n  //   contactMany: ContactTC.getResolver('findMany'),\n  //   contactTotal: ContactTC.getResolver('count'),\n  //   contactConnection: ContactTC.getResolver('connection'),\n  //   contactPagination: ContactTC.getResolver('pagination'),\n\n  //   //Content\n  //   contentById: ContentTC.getResolver('findById'),\n  //   contentByIds: ContentTC.getResolver('findByIds'),\n  //   contentOne: ContentTC.getResolver('findOne'),\n  //   contentMany: ContentTC.getResolver('findMany'),\n  //   contentTotal: ContentTC.getResolver('count'),\n  //   contentConnection: ContentTC.getResolver('connection'),\n  //   contentPagination: ContentTC.getResolver('pagination'),\n\n  //   //Events\n  //   eventById: EventTC.getResolver('findById'),\n  //   eventByIds: EventTC.getResolver('findByIds'),\n  //   eventOne: EventTC.getResolver('findOne'),\n  //   eventMany: EventTC.getResolver('findMany'),\n  //   eventTotal: EventTC.getResolver('count'),\n  //   eventConnection: EventTC.getResolver('connection'),\n  //   eventPagination: EventTC.getResolver('pagination'),\n\n  //   //Locations\n  //   locationById: LocationTC.getResolver('findById'),\n  //   locationByIds: LocationTC.getResolver('findByIds'),\n  //   locationOne: LocationTC.getResolver('findOne'),\n  //   locationMany: LocationTC.getResolver('findMany'),\n  //   locationTotal: LocationTC.getResolver('count'),\n  //   locationConnection: LocationTC.getResolver('connection'),\n  //   locationPagination: LocationTC.getResolver('pagination'),\n\n  //   //Providers\n  //   providerById: ProviderTC.getResolver('findById'),\n  //   providerByIds: ProviderTC.getResolver('findByIds'),\n  //   providerOne: ProviderTC.getResolver('findOne'),\n  //   providerMany: ProviderTC.getResolver('findMany'),\n  //   providerTotal: ProviderTC.getResolver('count'),\n  //   providerConnection: ProviderTC.getResolver('connection'),\n  //   providerPagination: ProviderTC.getResolver('pagination'),\n\n  //   //Searches\n  //   searchById: SearchTC.getResolver('findById'),\n  //   searchByIds: SearchTC.getResolver('findByIds'),\n  //   searchOne: SearchTC.getResolver('findOne'),\n  //   searchMany: SearchTC.getResolver('findMany'),\n  //   searchTotal: SearchTC.getResolver('count'),\n  //   searchConnection: SearchTC.getResolver('connection'),\n  //   searchPagination: SearchTC.getResolver('pagination'),\n\n  //   //Session\n  //   sessionById: SessionTC.getResolver('findById'),\n  //   sessionByIds: SessionTC.getResolver('findByIds'),\n  //   sessionOne: SessionTC.getResolver('findOne'),\n  //   sessionMany: SessionTC.getResolver('findMany'),\n  //   sessionTotal: SessionTC.getResolver('count'),\n  //   sessionConnection: SessionTC.getResolver('connection'),\n  //   sessionPagination: SessionTC.getResolver('pagination'),\n\n  //   //Tags\n  //   tagById: TagTC.getResolver('findById'),\n  //   tagByIds: TagTC.getResolver('findByIds'),\n  //   tagOne: TagTC.getResolver('findOne'),\n  //   tagMany: TagTC.getResolver('findMany'),\n  //   tagTotal: TagTC.getResolver('count'),\n  //   tagConnection: TagTC.getResolver('connection'),\n  //   tagPagination: TagTC.getResolver('pagination'),\n  //  // /Things\n  //   // ngById: ThingTC.getResolver('findById'),\n  //   // ngByIds: ThingTC.getResolver('findByIds'),\n  //   // ngOne: ThingTC.getResolver('findOne'),\n  //   // ngMany: ThingTC.getResolver('findMany'),\n  //   // ngTotal: ThingTC.getResolver('count'),\n  //   // ngConnection: ThingTC.getResolver('connection'),\n  //   // ngPagination: ThingTC.getResolver('pagination'),?\n\n  //Users\n  userById: _user.UserTC.getResolver('findById'),\n  userByIds: _user.UserTC.getResolver('findByIds'),\n  userOne: _user.UserTC.getResolver('findOne'),\n  userMany: _user.UserTC.getResolver('findMany'), // .debug(), // debug info to console for this resolver\n  userTotal: _user.UserTC.getResolver('count'),\n  userConnection: _user.UserTC.getResolver('connection'),\n  userPagination: _user.UserTC.getResolver('pagination')\n\n});\n// For debug purposes you may display resolver internals in the following manner:\n// console.log(UserTC.getResolver('findMany').toString());\n\nGQC.rootMutation().addFields({\n\n  /*\n  // Connections\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  */\n  // UsersuserCreate: UserTC.getResolver('createOne'),\n  userUpdateById: _user.UserTC.getResolver('updateById'),\n  userUpdateOne: _user.UserTC.getResolver('updateOne'),\n  userUpdateMany: _user.UserTC.getResolver('updateMany'),\n  userRemoveById: _user.UserTC.getResolver('removeById'),\n  userRemoveOne: _user.UserTC.getResolver('removeOne'),\n  userRemoveMany: _user.UserTC.getResolver('removeMany')\n});\n\nconst graphqlSchema = GQC.buildSchema();\n\nexports.default = graphqlSchema;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjaGVtYS5qcyJdLCJuYW1lcyI6WyJHUUMiLCJyb290UXVlcnkiLCJhZGRGaWVsZHMiLCJ1c2VyQnlJZCIsImdldFJlc29sdmVyIiwidXNlckJ5SWRzIiwidXNlck9uZSIsInVzZXJNYW55IiwidXNlclRvdGFsIiwidXNlckNvbm5lY3Rpb24iLCJ1c2VyUGFnaW5hdGlvbiIsInJvb3RNdXRhdGlvbiIsInVzZXJVcGRhdGVCeUlkIiwidXNlclVwZGF0ZU9uZSIsInVzZXJVcGRhdGVNYW55IiwidXNlclJlbW92ZUJ5SWQiLCJ1c2VyUmVtb3ZlT25lIiwidXNlclJlbW92ZU1hbnkiLCJncmFwaHFsU2NoZW1hIiwiYnVpbGRTY2hlbWEiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBOztBQWFBOztBQUVBLE1BQU1BLE1BQU0sb0NBQVo7O0FBRUE7OztBQWZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQU9BQSxJQUFJQyxTQUFKLEdBQWdCQyxTQUFoQixDQUEwQjtBQUN4QjtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUU7QUFDQUMsWUFBVSxhQUFPQyxXQUFQLENBQW1CLFVBQW5CLENBM0ZjO0FBNEZ4QkMsYUFBVyxhQUFPRCxXQUFQLENBQW1CLFdBQW5CLENBNUZhO0FBNkZ4QkUsV0FBUyxhQUFPRixXQUFQLENBQW1CLFNBQW5CLENBN0ZlO0FBOEZ4QkcsWUFBVSxhQUFPSCxXQUFQLENBQW1CLFVBQW5CLENBOUZjLEVBOEZrQjtBQUMxQ0ksYUFBVyxhQUFPSixXQUFQLENBQW1CLE9BQW5CLENBL0ZhO0FBZ0d4Qkssa0JBQWdCLGFBQU9MLFdBQVAsQ0FBbUIsWUFBbkIsQ0FoR1E7QUFpR3hCTSxrQkFBZ0IsYUFBT04sV0FBUCxDQUFtQixZQUFuQjs7QUFqR1EsQ0FBMUI7QUFvR0E7QUFDQTs7QUFFQUosSUFBSVcsWUFBSixHQUFtQlQsU0FBbkIsQ0FBNkI7O0FBRTNCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWtHQTtBQUNBVSxrQkFBZ0IsYUFBT1IsV0FBUCxDQUFtQixZQUFuQixDQXJHVztBQXNHM0JTLGlCQUFlLGFBQU9ULFdBQVAsQ0FBbUIsV0FBbkIsQ0F0R1k7QUF1RzNCVSxrQkFBZ0IsYUFBT1YsV0FBUCxDQUFtQixZQUFuQixDQXZHVztBQXdHM0JXLGtCQUFnQixhQUFPWCxXQUFQLENBQW1CLFlBQW5CLENBeEdXO0FBeUczQlksaUJBQWUsYUFBT1osV0FBUCxDQUFtQixXQUFuQixDQXpHWTtBQTBHM0JhLGtCQUFnQixhQUFPYixXQUFQLENBQW1CLFlBQW5CO0FBMUdXLENBQTdCOztBQTZHQSxNQUFNYyxnQkFBZ0JsQixJQUFJbUIsV0FBSixFQUF0Qjs7a0JBRWVELGEiLCJmaWxlIjoic2NoZW1hLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2NoZW1hIiwic291cmNlc0NvbnRlbnQiOlsiLyogQGZsb3cgKi9cblxuaW1wb3J0IHsgU2NoZW1hQ29tcG9zZXIgfSBmcm9tICdncmFwaHFsLWNvbXBvc2UnO1xuXG4vLyBpbXBvcnQgeyBDb25uZWN0aW9uVEMgfSBmcm9tICcuL21vZGVscy9jb25uZWN0aW9ucyc7XG4vLyBpbXBvcnQgeyBDb250YWN0VEMgfSBmcm9tICcuL21vZGVscy9jb250YWN0cyc7XG4vLyBpbXBvcnQgeyBDb250ZW50VEMgfSBmcm9tICcuL21vZGVscy9jb250ZW50Jztcbi8vIGltcG9ydCB7IEV2ZW50VEMgfSBmcm9tICcuL21vZGVscy9ldmVudHMnO1xuLy8gaW1wb3J0IHsgTG9jYXRpb25UQyB9IGZyb20gJy4vbW9kZWxzL2xvY2F0aW9ucyc7XG4vLyBpbXBvcnQgeyBQcm92aWRlclRDIH0gZnJvbSAnLi9tb2RlbHMvcHJvdmlkZXJzJztcbi8vIGltcG9ydCB7IFNlYXJjaFRDIH0gZnJvbSAnLi9tb2RlbHMvc2VhcmNoZXMnO1xuLy8gaW1wb3J0IHsgU2Vzc2lvblRDIH0gZnJvbSAnLi9tb2RlbHMvc2Vzc2lvbic7XG4vLyBpbXBvcnQgeyBUYWdUQyB9IGZyb20gJy4vbW9kZWxzL3RhZ3MnO1xuLy8gaW1wb3J0IHsgVGhpbmdUQyB9IGZyb20gJy4vbW9kZWxzL3RoaW5ncyc7XG5cbmltcG9ydCB7IFVzZXJUQyB9IGZyb20gJy4vbW9kZWxzL3VzZXInO1xuXG5jb25zdCBHUUMgPSBuZXcgU2NoZW1hQ29tcG9zZXIoKTtcblxuLy8gY3JlYXRlIEdyYXBoUUwgU2NoZW1hIHdpdGggYWxsIGF2YWlsYWJsZSByZXNvbHZlcnNcbkdRQy5yb290UXVlcnkoKS5hZGRGaWVsZHMoe1xuICAvL0Nvbm5lY3Rpb25zXG4vLyAgIGNvbm5lY3Rpb25CeUlkOiBDb25uZWN0aW9uVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkJyksXG4vLyAgIGNvbm5lY3Rpb25CeUlkczogQ29ubmVjdGlvblRDLmdldFJlc29sdmVyKCdmaW5kQnlJZHMnKSxcbi8vICAgY29ubmVjdGlvbk9uZTogQ29ubmVjdGlvblRDLmdldFJlc29sdmVyKCdmaW5kT25lJyksXG4vLyAgIGNvbm5lY3Rpb25NYW55OiBDb25uZWN0aW9uVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRNYW55JyksXG4vLyAgIGNvbm5lY3Rpb25Ub3RhbDogQ29ubmVjdGlvblRDLmdldFJlc29sdmVyKCdjb3VudCcpLFxuLy8gICBjb25uZWN0aW9uQ29ubmVjdGlvbjogQ29ubmVjdGlvblRDLmdldFJlc29sdmVyKCdjb25uZWN0aW9uJyksXG4vLyAgIGNvbm5lY3Rpb25QYWdpbmF0aW9uOiBDb25uZWN0aW9uVEMuZ2V0UmVzb2x2ZXIoJ3BhZ2luYXRpb24nKSxcbiAgXG4vLyAgIC8vQ29udGFjdHNcbi8vICAgY29udGFjdEJ5SWQ6IENvbnRhY3RUQy5nZXRSZXNvbHZlcignZmluZEJ5SWQnKSxcbi8vICAgY29udGFjdEJ5SWRzOiBDb250YWN0VEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkcycpLFxuLy8gICBjb250YWN0T25lOiBDb250YWN0VEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRPbmUnKSxcbi8vICAgY29udGFjdE1hbnk6IENvbnRhY3RUQy5nZXRSZXNvbHZlcignZmluZE1hbnknKSxcbi8vICAgY29udGFjdFRvdGFsOiBDb250YWN0VEMuZ2V0UmVzb2x2ZXIoJ2NvdW50JyksXG4vLyAgIGNvbnRhY3RDb25uZWN0aW9uOiBDb250YWN0VEMuZ2V0UmVzb2x2ZXIoJ2Nvbm5lY3Rpb24nKSxcbi8vICAgY29udGFjdFBhZ2luYXRpb246IENvbnRhY3RUQy5nZXRSZXNvbHZlcigncGFnaW5hdGlvbicpLFxuICBcbi8vICAgLy9Db250ZW50XG4vLyAgIGNvbnRlbnRCeUlkOiBDb250ZW50VEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkJyksXG4vLyAgIGNvbnRlbnRCeUlkczogQ29udGVudFRDLmdldFJlc29sdmVyKCdmaW5kQnlJZHMnKSxcbi8vICAgY29udGVudE9uZTogQ29udGVudFRDLmdldFJlc29sdmVyKCdmaW5kT25lJyksXG4vLyAgIGNvbnRlbnRNYW55OiBDb250ZW50VEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRNYW55JyksXG4vLyAgIGNvbnRlbnRUb3RhbDogQ29udGVudFRDLmdldFJlc29sdmVyKCdjb3VudCcpLFxuLy8gICBjb250ZW50Q29ubmVjdGlvbjogQ29udGVudFRDLmdldFJlc29sdmVyKCdjb25uZWN0aW9uJyksXG4vLyAgIGNvbnRlbnRQYWdpbmF0aW9uOiBDb250ZW50VEMuZ2V0UmVzb2x2ZXIoJ3BhZ2luYXRpb24nKSxcbiAgXG4vLyAgIC8vRXZlbnRzXG4vLyAgIGV2ZW50QnlJZDogRXZlbnRUQy5nZXRSZXNvbHZlcignZmluZEJ5SWQnKSxcbi8vICAgZXZlbnRCeUlkczogRXZlbnRUQy5nZXRSZXNvbHZlcignZmluZEJ5SWRzJyksXG4vLyAgIGV2ZW50T25lOiBFdmVudFRDLmdldFJlc29sdmVyKCdmaW5kT25lJyksXG4vLyAgIGV2ZW50TWFueTogRXZlbnRUQy5nZXRSZXNvbHZlcignZmluZE1hbnknKSxcbi8vICAgZXZlbnRUb3RhbDogRXZlbnRUQy5nZXRSZXNvbHZlcignY291bnQnKSxcbi8vICAgZXZlbnRDb25uZWN0aW9uOiBFdmVudFRDLmdldFJlc29sdmVyKCdjb25uZWN0aW9uJyksXG4vLyAgIGV2ZW50UGFnaW5hdGlvbjogRXZlbnRUQy5nZXRSZXNvbHZlcigncGFnaW5hdGlvbicpLFxuICBcbi8vICAgLy9Mb2NhdGlvbnNcbi8vICAgbG9jYXRpb25CeUlkOiBMb2NhdGlvblRDLmdldFJlc29sdmVyKCdmaW5kQnlJZCcpLFxuLy8gICBsb2NhdGlvbkJ5SWRzOiBMb2NhdGlvblRDLmdldFJlc29sdmVyKCdmaW5kQnlJZHMnKSxcbi8vICAgbG9jYXRpb25PbmU6IExvY2F0aW9uVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRPbmUnKSxcbi8vICAgbG9jYXRpb25NYW55OiBMb2NhdGlvblRDLmdldFJlc29sdmVyKCdmaW5kTWFueScpLFxuLy8gICBsb2NhdGlvblRvdGFsOiBMb2NhdGlvblRDLmdldFJlc29sdmVyKCdjb3VudCcpLFxuLy8gICBsb2NhdGlvbkNvbm5lY3Rpb246IExvY2F0aW9uVEMuZ2V0UmVzb2x2ZXIoJ2Nvbm5lY3Rpb24nKSxcbi8vICAgbG9jYXRpb25QYWdpbmF0aW9uOiBMb2NhdGlvblRDLmdldFJlc29sdmVyKCdwYWdpbmF0aW9uJyksXG4gIFxuLy8gICAvL1Byb3ZpZGVyc1xuLy8gICBwcm92aWRlckJ5SWQ6IFByb3ZpZGVyVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkJyksXG4vLyAgIHByb3ZpZGVyQnlJZHM6IFByb3ZpZGVyVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkcycpLFxuLy8gICBwcm92aWRlck9uZTogUHJvdmlkZXJUQy5nZXRSZXNvbHZlcignZmluZE9uZScpLFxuLy8gICBwcm92aWRlck1hbnk6IFByb3ZpZGVyVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRNYW55JyksXG4vLyAgIHByb3ZpZGVyVG90YWw6IFByb3ZpZGVyVEMuZ2V0UmVzb2x2ZXIoJ2NvdW50JyksXG4vLyAgIHByb3ZpZGVyQ29ubmVjdGlvbjogUHJvdmlkZXJUQy5nZXRSZXNvbHZlcignY29ubmVjdGlvbicpLFxuLy8gICBwcm92aWRlclBhZ2luYXRpb246IFByb3ZpZGVyVEMuZ2V0UmVzb2x2ZXIoJ3BhZ2luYXRpb24nKSxcbiAgXG4vLyAgIC8vU2VhcmNoZXNcbi8vICAgc2VhcmNoQnlJZDogU2VhcmNoVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkJyksXG4vLyAgIHNlYXJjaEJ5SWRzOiBTZWFyY2hUQy5nZXRSZXNvbHZlcignZmluZEJ5SWRzJyksXG4vLyAgIHNlYXJjaE9uZTogU2VhcmNoVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRPbmUnKSxcbi8vICAgc2VhcmNoTWFueTogU2VhcmNoVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRNYW55JyksXG4vLyAgIHNlYXJjaFRvdGFsOiBTZWFyY2hUQy5nZXRSZXNvbHZlcignY291bnQnKSxcbi8vICAgc2VhcmNoQ29ubmVjdGlvbjogU2VhcmNoVEMuZ2V0UmVzb2x2ZXIoJ2Nvbm5lY3Rpb24nKSxcbi8vICAgc2VhcmNoUGFnaW5hdGlvbjogU2VhcmNoVEMuZ2V0UmVzb2x2ZXIoJ3BhZ2luYXRpb24nKSxcblxuLy8gICAvL1Nlc3Npb25cbi8vICAgc2Vzc2lvbkJ5SWQ6IFNlc3Npb25UQy5nZXRSZXNvbHZlcignZmluZEJ5SWQnKSxcbi8vICAgc2Vzc2lvbkJ5SWRzOiBTZXNzaW9uVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkcycpLFxuLy8gICBzZXNzaW9uT25lOiBTZXNzaW9uVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRPbmUnKSxcbi8vICAgc2Vzc2lvbk1hbnk6IFNlc3Npb25UQy5nZXRSZXNvbHZlcignZmluZE1hbnknKSxcbi8vICAgc2Vzc2lvblRvdGFsOiBTZXNzaW9uVEMuZ2V0UmVzb2x2ZXIoJ2NvdW50JyksXG4vLyAgIHNlc3Npb25Db25uZWN0aW9uOiBTZXNzaW9uVEMuZ2V0UmVzb2x2ZXIoJ2Nvbm5lY3Rpb24nKSxcbi8vICAgc2Vzc2lvblBhZ2luYXRpb246IFNlc3Npb25UQy5nZXRSZXNvbHZlcigncGFnaW5hdGlvbicpLFxuICBcbi8vICAgLy9UYWdzXG4vLyAgIHRhZ0J5SWQ6IFRhZ1RDLmdldFJlc29sdmVyKCdmaW5kQnlJZCcpLFxuLy8gICB0YWdCeUlkczogVGFnVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkcycpLFxuLy8gICB0YWdPbmU6IFRhZ1RDLmdldFJlc29sdmVyKCdmaW5kT25lJyksXG4vLyAgIHRhZ01hbnk6IFRhZ1RDLmdldFJlc29sdmVyKCdmaW5kTWFueScpLFxuLy8gICB0YWdUb3RhbDogVGFnVEMuZ2V0UmVzb2x2ZXIoJ2NvdW50JyksXG4vLyAgIHRhZ0Nvbm5lY3Rpb246IFRhZ1RDLmdldFJlc29sdmVyKCdjb25uZWN0aW9uJyksXG4vLyAgIHRhZ1BhZ2luYXRpb246IFRhZ1RDLmdldFJlc29sdmVyKCdwYWdpbmF0aW9uJyksXG4vLyAgLy8gL1RoaW5nc1xuLy8gICAvLyBuZ0J5SWQ6IFRoaW5nVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkJyksXG4vLyAgIC8vIG5nQnlJZHM6IFRoaW5nVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkcycpLFxuLy8gICAvLyBuZ09uZTogVGhpbmdUQy5nZXRSZXNvbHZlcignZmluZE9uZScpLFxuLy8gICAvLyBuZ01hbnk6IFRoaW5nVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRNYW55JyksXG4vLyAgIC8vIG5nVG90YWw6IFRoaW5nVEMuZ2V0UmVzb2x2ZXIoJ2NvdW50JyksXG4vLyAgIC8vIG5nQ29ubmVjdGlvbjogVGhpbmdUQy5nZXRSZXNvbHZlcignY29ubmVjdGlvbicpLFxuLy8gICAvLyBuZ1BhZ2luYXRpb246IFRoaW5nVEMuZ2V0UmVzb2x2ZXIoJ3BhZ2luYXRpb24nKSw/XG4gIFxuICAvL1VzZXJzXG4gIHVzZXJCeUlkOiBVc2VyVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkJyksXG4gIHVzZXJCeUlkczogVXNlclRDLmdldFJlc29sdmVyKCdmaW5kQnlJZHMnKSxcbiAgdXNlck9uZTogVXNlclRDLmdldFJlc29sdmVyKCdmaW5kT25lJyksXG4gIHVzZXJNYW55OiBVc2VyVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRNYW55JyksIC8vIC5kZWJ1ZygpLCAvLyBkZWJ1ZyBpbmZvIHRvIGNvbnNvbGUgZm9yIHRoaXMgcmVzb2x2ZXJcbiAgdXNlclRvdGFsOiBVc2VyVEMuZ2V0UmVzb2x2ZXIoJ2NvdW50JyksXG4gIHVzZXJDb25uZWN0aW9uOiBVc2VyVEMuZ2V0UmVzb2x2ZXIoJ2Nvbm5lY3Rpb24nKSxcbiAgdXNlclBhZ2luYXRpb246IFVzZXJUQy5nZXRSZXNvbHZlcigncGFnaW5hdGlvbicpLFxuICBcbn0pO1xuLy8gRm9yIGRlYnVnIHB1cnBvc2VzIHlvdSBtYXkgZGlzcGxheSByZXNvbHZlciBpbnRlcm5hbHMgaW4gdGhlIGZvbGxvd2luZyBtYW5uZXI6XG4vLyBjb25zb2xlLmxvZyhVc2VyVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRNYW55JykudG9TdHJpbmcoKSk7XG5cbkdRQy5yb290TXV0YXRpb24oKS5hZGRGaWVsZHMoe1xuICBcbiAgLypcbiAgLy8gQ29ubmVjdGlvbnNcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgLy8gdGVtcGxhdGVcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgLy8gdGVtcGxhdGVcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgLy8gdGVtcGxhdGVcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgLy8gdGVtcGxhdGVcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgLy8gdGVtcGxhdGVcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgLy8gdGVtcGxhdGVcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgLy8gdGVtcGxhdGVcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgLy8gdGVtcGxhdGVcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgLy8gdGVtcGxhdGVcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgLy8gdGVtcGxhdGVcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgLy8gdGVtcGxhdGVcbiAgQ3JlYXRlOiBUQy5nZXRSZXNvbHZlcignY3JlYXRlT25lJyksXG4gIFVwZGF0ZUJ5SWQ6IFRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIFVwZGF0ZU9uZTogVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU9uZScpLFxuICBVcGRhdGVNYW55OiBUQy5nZXRSZXNvbHZlcigndXBkYXRlTWFueScpLFxuICBSZW1vdmVCeUlkOiBUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICBSZW1vdmVPbmU6IFRDLmdldFJlc29sdmVyKCdyZW1vdmVPbmUnKSxcbiAgUmVtb3ZlTWFueTogVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU1hbnknKSxcbiAgKi9cbiAgLy8gVXNlcnN1c2VyQ3JlYXRlOiBVc2VyVEMuZ2V0UmVzb2x2ZXIoJ2NyZWF0ZU9uZScpLFxuICB1c2VyVXBkYXRlQnlJZDogVXNlclRDLmdldFJlc29sdmVyKCd1cGRhdGVCeUlkJyksXG4gIHVzZXJVcGRhdGVPbmU6IFVzZXJUQy5nZXRSZXNvbHZlcigndXBkYXRlT25lJyksXG4gIHVzZXJVcGRhdGVNYW55OiBVc2VyVEMuZ2V0UmVzb2x2ZXIoJ3VwZGF0ZU1hbnknKSxcbiAgdXNlclJlbW92ZUJ5SWQ6IFVzZXJUQy5nZXRSZXNvbHZlcigncmVtb3ZlQnlJZCcpLFxuICB1c2VyUmVtb3ZlT25lOiBVc2VyVEMuZ2V0UmVzb2x2ZXIoJ3JlbW92ZU9uZScpLFxuICB1c2VyUmVtb3ZlTWFueTogVXNlclRDLmdldFJlc29sdmVyKCdyZW1vdmVNYW55JyksXG59KTtcblxuY29uc3QgZ3JhcGhxbFNjaGVtYSA9IEdRQy5idWlsZFNjaGVtYSgpO1xuXG5leHBvcnQgZGVmYXVsdCBncmFwaHFsU2NoZW1hOyJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "schema.js"
      ],
      "names": [
        "GQC",
        "rootQuery",
        "addFields",
        "userById",
        "getResolver",
        "userByIds",
        "userOne",
        "userMany",
        "userTotal",
        "userConnection",
        "userPagination",
        "rootMutation",
        "userUpdateById",
        "userUpdateOne",
        "userUpdateMany",
        "userRemoveById",
        "userRemoveOne",
        "userRemoveMany",
        "graphqlSchema",
        "buildSchema"
      ],
      "mappings": ";;;;;;AAEA;;AAaA;;AAEA,MAAMA,MAAM,oCAAZ;;AAEA;;;AAfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAOAA,IAAIC,SAAJ,GAAgBC,SAAhB,CAA0B;AACxB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEE;AACAC,YAAU,aAAOC,WAAP,CAAmB,UAAnB,CA3Fc;AA4FxBC,aAAW,aAAOD,WAAP,CAAmB,WAAnB,CA5Fa;AA6FxBE,WAAS,aAAOF,WAAP,CAAmB,SAAnB,CA7Fe;AA8FxBG,YAAU,aAAOH,WAAP,CAAmB,UAAnB,CA9Fc,EA8FkB;AAC1CI,aAAW,aAAOJ,WAAP,CAAmB,OAAnB,CA/Fa;AAgGxBK,kBAAgB,aAAOL,WAAP,CAAmB,YAAnB,CAhGQ;AAiGxBM,kBAAgB,aAAON,WAAP,CAAmB,YAAnB;;AAjGQ,CAA1B;AAoGA;AACA;;AAEAJ,IAAIW,YAAJ,GAAmBT,SAAnB,CAA6B;;AAE3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACAU,kBAAgB,aAAOR,WAAP,CAAmB,YAAnB,CArGW;AAsG3BS,iBAAe,aAAOT,WAAP,CAAmB,WAAnB,CAtGY;AAuG3BU,kBAAgB,aAAOV,WAAP,CAAmB,YAAnB,CAvGW;AAwG3BW,kBAAgB,aAAOX,WAAP,CAAmB,YAAnB,CAxGW;AAyG3BY,iBAAe,aAAOZ,WAAP,CAAmB,WAAnB,CAzGY;AA0G3Ba,kBAAgB,aAAOb,WAAP,CAAmB,YAAnB;AA1GW,CAA7B;;AA6GA,MAAMc,gBAAgBlB,IAAImB,WAAJ,EAAtB;;kBAEeD,a",
      "file": "schema.js",
      "sourceRoot": "/app/schema",
      "sourcesContent": [
        "/* @flow */\n\nimport { SchemaComposer } from 'graphql-compose';\n\n// import { ConnectionTC } from './models/connections';\n// import { ContactTC } from './models/contacts';\n// import { ContentTC } from './models/content';\n// import { EventTC } from './models/events';\n// import { LocationTC } from './models/locations';\n// import { ProviderTC } from './models/providers';\n// import { SearchTC } from './models/searches';\n// import { SessionTC } from './models/session';\n// import { TagTC } from './models/tags';\n// import { ThingTC } from './models/things';\n\nimport { UserTC } from './models/user';\n\nconst GQC = new SchemaComposer();\n\n// create GraphQL Schema with all available resolvers\nGQC.rootQuery().addFields({\n  //Connections\n//   connectionById: ConnectionTC.getResolver('findById'),\n//   connectionByIds: ConnectionTC.getResolver('findByIds'),\n//   connectionOne: ConnectionTC.getResolver('findOne'),\n//   connectionMany: ConnectionTC.getResolver('findMany'),\n//   connectionTotal: ConnectionTC.getResolver('count'),\n//   connectionConnection: ConnectionTC.getResolver('connection'),\n//   connectionPagination: ConnectionTC.getResolver('pagination'),\n  \n//   //Contacts\n//   contactById: ContactTC.getResolver('findById'),\n//   contactByIds: ContactTC.getResolver('findByIds'),\n//   contactOne: ContactTC.getResolver('findOne'),\n//   contactMany: ContactTC.getResolver('findMany'),\n//   contactTotal: ContactTC.getResolver('count'),\n//   contactConnection: ContactTC.getResolver('connection'),\n//   contactPagination: ContactTC.getResolver('pagination'),\n  \n//   //Content\n//   contentById: ContentTC.getResolver('findById'),\n//   contentByIds: ContentTC.getResolver('findByIds'),\n//   contentOne: ContentTC.getResolver('findOne'),\n//   contentMany: ContentTC.getResolver('findMany'),\n//   contentTotal: ContentTC.getResolver('count'),\n//   contentConnection: ContentTC.getResolver('connection'),\n//   contentPagination: ContentTC.getResolver('pagination'),\n  \n//   //Events\n//   eventById: EventTC.getResolver('findById'),\n//   eventByIds: EventTC.getResolver('findByIds'),\n//   eventOne: EventTC.getResolver('findOne'),\n//   eventMany: EventTC.getResolver('findMany'),\n//   eventTotal: EventTC.getResolver('count'),\n//   eventConnection: EventTC.getResolver('connection'),\n//   eventPagination: EventTC.getResolver('pagination'),\n  \n//   //Locations\n//   locationById: LocationTC.getResolver('findById'),\n//   locationByIds: LocationTC.getResolver('findByIds'),\n//   locationOne: LocationTC.getResolver('findOne'),\n//   locationMany: LocationTC.getResolver('findMany'),\n//   locationTotal: LocationTC.getResolver('count'),\n//   locationConnection: LocationTC.getResolver('connection'),\n//   locationPagination: LocationTC.getResolver('pagination'),\n  \n//   //Providers\n//   providerById: ProviderTC.getResolver('findById'),\n//   providerByIds: ProviderTC.getResolver('findByIds'),\n//   providerOne: ProviderTC.getResolver('findOne'),\n//   providerMany: ProviderTC.getResolver('findMany'),\n//   providerTotal: ProviderTC.getResolver('count'),\n//   providerConnection: ProviderTC.getResolver('connection'),\n//   providerPagination: ProviderTC.getResolver('pagination'),\n  \n//   //Searches\n//   searchById: SearchTC.getResolver('findById'),\n//   searchByIds: SearchTC.getResolver('findByIds'),\n//   searchOne: SearchTC.getResolver('findOne'),\n//   searchMany: SearchTC.getResolver('findMany'),\n//   searchTotal: SearchTC.getResolver('count'),\n//   searchConnection: SearchTC.getResolver('connection'),\n//   searchPagination: SearchTC.getResolver('pagination'),\n\n//   //Session\n//   sessionById: SessionTC.getResolver('findById'),\n//   sessionByIds: SessionTC.getResolver('findByIds'),\n//   sessionOne: SessionTC.getResolver('findOne'),\n//   sessionMany: SessionTC.getResolver('findMany'),\n//   sessionTotal: SessionTC.getResolver('count'),\n//   sessionConnection: SessionTC.getResolver('connection'),\n//   sessionPagination: SessionTC.getResolver('pagination'),\n  \n//   //Tags\n//   tagById: TagTC.getResolver('findById'),\n//   tagByIds: TagTC.getResolver('findByIds'),\n//   tagOne: TagTC.getResolver('findOne'),\n//   tagMany: TagTC.getResolver('findMany'),\n//   tagTotal: TagTC.getResolver('count'),\n//   tagConnection: TagTC.getResolver('connection'),\n//   tagPagination: TagTC.getResolver('pagination'),\n//  // /Things\n//   // ngById: ThingTC.getResolver('findById'),\n//   // ngByIds: ThingTC.getResolver('findByIds'),\n//   // ngOne: ThingTC.getResolver('findOne'),\n//   // ngMany: ThingTC.getResolver('findMany'),\n//   // ngTotal: ThingTC.getResolver('count'),\n//   // ngConnection: ThingTC.getResolver('connection'),\n//   // ngPagination: ThingTC.getResolver('pagination'),?\n  \n  //Users\n  userById: UserTC.getResolver('findById'),\n  userByIds: UserTC.getResolver('findByIds'),\n  userOne: UserTC.getResolver('findOne'),\n  userMany: UserTC.getResolver('findMany'), // .debug(), // debug info to console for this resolver\n  userTotal: UserTC.getResolver('count'),\n  userConnection: UserTC.getResolver('connection'),\n  userPagination: UserTC.getResolver('pagination'),\n  \n});\n// For debug purposes you may display resolver internals in the following manner:\n// console.log(UserTC.getResolver('findMany').toString());\n\nGQC.rootMutation().addFields({\n  \n  /*\n  // Connections\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  // template\n  Create: TC.getResolver('createOne'),\n  UpdateById: TC.getResolver('updateById'),\n  UpdateOne: TC.getResolver('updateOne'),\n  UpdateMany: TC.getResolver('updateMany'),\n  RemoveById: TC.getResolver('removeById'),\n  RemoveOne: TC.getResolver('removeOne'),\n  RemoveMany: TC.getResolver('removeMany'),\n  */\n  // UsersuserCreate: UserTC.getResolver('createOne'),\n  userUpdateById: UserTC.getResolver('updateById'),\n  userUpdateOne: UserTC.getResolver('updateOne'),\n  userUpdateMany: UserTC.getResolver('updateMany'),\n  userRemoveById: UserTC.getResolver('removeById'),\n  userRemoveOne: UserTC.getResolver('removeOne'),\n  userRemoveMany: UserTC.getResolver('removeMany'),\n});\n\nconst graphqlSchema = GQC.buildSchema();\n\nexport default graphqlSchema;"
      ]
    },
    "mtime": 1521508373910
  },
  "{\"filename\":\"/app/schema/models/user.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/schema/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "graphql-compose-mongoose/node8",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "composeWithMongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "UserSchema",
            "User",
            "UserTC"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "UserSchema",
              "exported": "UserSchema"
            },
            {
              "kind": "local",
              "local": "User",
              "exported": "User"
            },
            {
              "kind": "local",
              "local": "UserTC",
              "exported": "UserTC"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/schema/models/user.js",
      "filenameRelative": "/app/schema/models/user.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "user.js",
      "sourceFileName": "user.js",
      "sourceRoot": "/app/schema/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/schema/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "user"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UserTC = exports.User = exports.UserSchema = undefined;\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _node = require('graphql-compose-mongoose/node8');\n\nvar _node2 = _interopRequireDefault(_node);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst AccountTypeSchema = new _mongoose2.default.Schema({\n  language: String,\n  skill: {\n    type: String,\n    enum: ['free', 'plus', 'pro']\n  }\n}, {\n  _id: false\n});\n\nconst AddressSchema = new _mongoose2.default.Schema({\n  street: String,\n  geo: {\n    type: [Number], // [<longitude>, <latitude>]\n    index: '2dsphere' // create the geospatial index\n  }\n});\n\nconst UserSchema = exports.UserSchema = new _mongoose2.default.Schema({\n  meta: {\n    type: Object\n  },\n  _id: {\n    type: Buffer\n  },\n  name: {\n    type: String,\n    index: true\n  },\n  is_active: {\n    type: Boolean,\n    index: true\n  },\n  joined: {\n    type: Date,\n    index: false\n  },\n  last_login: {\n    type: Date,\n    index: false\n  },\n  settings: {\n    explorer: {\n      initial_searches: {\n        type: Boolean,\n        index: false\n      }\n    }\n  },\n  social_accounts: {\n    type: Array,\n    index: false\n  },\n  subscriptions: {\n    type: Array,\n    index: false\n  },\n  age: {\n    type: Number,\n    index: true\n  },\n  accountType: {\n    type: [AccountTypeSchema],\n    default: []\n  },\n  contacts: {\n    // another mongoose way for providing embedded documents\n    email: String,\n    phones: [String] // array of strings\n  },\n  gender: {\n    // enum field with values\n    type: String,\n    enum: ['male', 'female', 'ladyboy', 'ai', 'animal', 'mineral', 'other']\n  },\n  address: {\n    type: AddressSchema\n  },\n  otherData: {\n    type: _mongoose2.default.Schema.Types.Mixed,\n    description: 'Some dynamic data'\n  }\n}, {\n  collection: 'users',\n  toObject: {\n    transform: function transform(doc, ret) {\n      ret._id = Buffer.from(ret._id, 'hex')[0];\n    }\n  },\n  toJSON: {\n    transform: function transform(doc, ret) {\n      ret._id = ret._id.toString('hex');\n    }\n  }\n});\n\n// UserSchema.virtual('_id')\n//   .set(function (uuid4ID) {\n//     this._id = Buffer.from(uuid4ID, 'hex')[0];;\n//   })\n//   .get(function () {\n//     return this._id.toString('hex');\n//   });\n\nUserSchema.index({ gender: 1, age: -1 });\n\nconst User = exports.User = _mongoose2.default.model('User', UserSchema);\n\nconst UserTC = exports.UserTC = (0, _node2.default)(User);\n\n// UserTC.addFields({\n//   _id: { // extended\n//     type: 'String', // String, Int, Float, Boolean, ID, Json, array []\n//     description: 'uuid4 id',\n//     resolve: (source, args, context, info) => {\n//       return source._id.toString('hex');\n//     },\n//   }\n// });\n\n\nUserTC.setResolver('findMany', UserTC.getResolver('findMany').addFilterArg({\n  name: 'geoDistance',\n  type: `input GeoDistance {\n      lng: Float!\n      lat: Float!\n      # Distance in meters\n      distance: Float!\n    }`,\n  description: 'Search by distance in meters',\n  query: (rawQuery, value, resolveParams) => {\n    // eslint-disable-line\n    if (!value.lng || !value.lat || !value.distance) return;\n    // read more https://docs.mongodb.com/manual/tutorial/query-a-2dsphere-index/\n    rawQuery['address.geo'] = {\n      $near: {\n        $geometry: {\n          type: 'Point',\n          coordinates: [value.lng, value.lat]\n        },\n        $maxDistance: value.distance // <distance in meters>\n      }\n    };\n  }\n})\n// /* FOR DEBUG */\n//   .debug()\n// /* OR MORE PRECISELY */\n//   .debugParams()\n//   .debugPayload()\n//   .debugExecTime()\n);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiQWNjb3VudFR5cGVTY2hlbWEiLCJTY2hlbWEiLCJsYW5ndWFnZSIsIlN0cmluZyIsInNraWxsIiwidHlwZSIsImVudW0iLCJfaWQiLCJBZGRyZXNzU2NoZW1hIiwic3RyZWV0IiwiZ2VvIiwiTnVtYmVyIiwiaW5kZXgiLCJVc2VyU2NoZW1hIiwibWV0YSIsIk9iamVjdCIsIkJ1ZmZlciIsIm5hbWUiLCJpc19hY3RpdmUiLCJCb29sZWFuIiwiam9pbmVkIiwiRGF0ZSIsImxhc3RfbG9naW4iLCJzZXR0aW5ncyIsImV4cGxvcmVyIiwiaW5pdGlhbF9zZWFyY2hlcyIsInNvY2lhbF9hY2NvdW50cyIsIkFycmF5Iiwic3Vic2NyaXB0aW9ucyIsImFnZSIsImFjY291bnRUeXBlIiwiZGVmYXVsdCIsImNvbnRhY3RzIiwiZW1haWwiLCJwaG9uZXMiLCJnZW5kZXIiLCJhZGRyZXNzIiwib3RoZXJEYXRhIiwiVHlwZXMiLCJNaXhlZCIsImRlc2NyaXB0aW9uIiwiY29sbGVjdGlvbiIsInRvT2JqZWN0IiwidHJhbnNmb3JtIiwiZG9jIiwicmV0IiwiZnJvbSIsInRvSlNPTiIsInRvU3RyaW5nIiwiVXNlciIsIm1vZGVsIiwiVXNlclRDIiwic2V0UmVzb2x2ZXIiLCJnZXRSZXNvbHZlciIsImFkZEZpbHRlckFyZyIsInF1ZXJ5IiwicmF3UXVlcnkiLCJ2YWx1ZSIsInJlc29sdmVQYXJhbXMiLCJsbmciLCJsYXQiLCJkaXN0YW5jZSIsIiRuZWFyIiwiJGdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCIkbWF4RGlzdGFuY2UiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQTs7OztBQUNBOzs7Ozs7QUFFQSxNQUFNQSxvQkFBb0IsSUFBSSxtQkFBU0MsTUFBYixDQUN4QjtBQUNFQyxZQUFVQyxNQURaO0FBRUVDLFNBQU87QUFDTEMsVUFBTUYsTUFERDtBQUVMRyxVQUFNLENBQUMsTUFBRCxFQUFTLE1BQVQsRUFBaUIsS0FBakI7QUFGRDtBQUZULENBRHdCLEVBUXhCO0FBQ0VDLE9BQUs7QUFEUCxDQVJ3QixDQUExQjs7QUFhQSxNQUFNQyxnQkFBZ0IsSUFBSSxtQkFBU1AsTUFBYixDQUFvQjtBQUN4Q1EsVUFBUU4sTUFEZ0M7QUFFeENPLE9BQUs7QUFDSEwsVUFBTSxDQUFDTSxNQUFELENBREgsRUFDYTtBQUNoQkMsV0FBTyxVQUZKLENBRWdCO0FBRmhCO0FBRm1DLENBQXBCLENBQXRCOztBQVFPLE1BQU1DLGtDQUFhLElBQUksbUJBQVNaLE1BQWIsQ0FDeEI7QUFDRWEsUUFBTTtBQUNKVCxVQUFNVTtBQURGLEdBRFI7QUFJRVIsT0FBSTtBQUNGRixVQUFNVztBQURKLEdBSk47QUFPRUMsUUFBTTtBQUNKWixVQUFNRixNQURGO0FBRUpTLFdBQU87QUFGSCxHQVBSO0FBV0VNLGFBQVc7QUFDVGIsVUFBTWMsT0FERztBQUVUUCxXQUFPO0FBRkUsR0FYYjtBQWVFUSxVQUFRO0FBQ05mLFVBQU1nQixJQURBO0FBRU5ULFdBQU87QUFGRCxHQWZWO0FBbUJFVSxjQUFZO0FBQ1ZqQixVQUFNZ0IsSUFESTtBQUVWVCxXQUFPO0FBRkcsR0FuQmQ7QUF1QkVXLFlBQVU7QUFDUkMsY0FBVTtBQUNSQyx3QkFBa0I7QUFDaEJwQixjQUFNYyxPQURVO0FBRWhCUCxlQUFPO0FBRlM7QUFEVjtBQURGLEdBdkJaO0FBK0JFYyxtQkFBaUI7QUFDZnJCLFVBQU1zQixLQURTO0FBRWZmLFdBQU87QUFGUSxHQS9CbkI7QUFtQ0VnQixpQkFBZTtBQUNidkIsVUFBTXNCLEtBRE87QUFFYmYsV0FBTztBQUZNLEdBbkNqQjtBQXVDRWlCLE9BQUs7QUFDSHhCLFVBQU1NLE1BREg7QUFFSEMsV0FBTztBQUZKLEdBdkNQO0FBMkNFa0IsZUFBYTtBQUNYekIsVUFBTSxDQUFDTCxpQkFBRCxDQURLO0FBRVgrQixhQUFTO0FBRkUsR0EzQ2Y7QUErQ0VDLFlBQVU7QUFDUjtBQUNBQyxXQUFPOUIsTUFGQztBQUdSK0IsWUFBUSxDQUFDL0IsTUFBRCxDQUhBLENBR1U7QUFIVixHQS9DWjtBQW9ERWdDLFVBQVE7QUFDTjtBQUNBOUIsVUFBTUYsTUFGQTtBQUdORyxVQUFNLENBQUMsTUFBRCxFQUFTLFFBQVQsRUFBbUIsU0FBbkIsRUFBOEIsSUFBOUIsRUFBb0MsUUFBcEMsRUFBOEMsU0FBOUMsRUFBeUQsT0FBekQ7QUFIQSxHQXBEVjtBQXlERThCLFdBQVM7QUFDUC9CLFVBQU1HO0FBREMsR0F6RFg7QUE0REU2QixhQUFXO0FBQ1RoQyxVQUFNLG1CQUFTSixNQUFULENBQWdCcUMsS0FBaEIsQ0FBc0JDLEtBRG5CO0FBRVRDLGlCQUFhO0FBRko7QUE1RGIsQ0FEd0IsRUFrRXhCO0FBQ0VDLGNBQVksT0FEZDtBQUVFQyxZQUFVO0FBQ1JDLGVBQVcsbUJBQVVDLEdBQVYsRUFBZUMsR0FBZixFQUFvQjtBQUM3QkEsVUFBSXRDLEdBQUosR0FBVVMsT0FBTzhCLElBQVAsQ0FBWUQsSUFBSXRDLEdBQWhCLEVBQXFCLEtBQXJCLEVBQTRCLENBQTVCLENBQVY7QUFDRDtBQUhPLEdBRlo7QUFPRXdDLFVBQVE7QUFDTkosZUFBVyxtQkFBVUMsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQzdCQSxVQUFJdEMsR0FBSixHQUFVc0MsSUFBSXRDLEdBQUosQ0FBUXlDLFFBQVIsQ0FBaUIsS0FBakIsQ0FBVjtBQUNEO0FBSEs7QUFQVixDQWxFd0IsQ0FBbkI7O0FBaUZQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBbkMsV0FBV0QsS0FBWCxDQUFpQixFQUFFdUIsUUFBUSxDQUFWLEVBQWFOLEtBQUssQ0FBQyxDQUFuQixFQUFqQjs7QUFFTyxNQUFNb0Isc0JBQU8sbUJBQVNDLEtBQVQsQ0FBZSxNQUFmLEVBQXVCckMsVUFBdkIsQ0FBYjs7QUFFQSxNQUFNc0MsMEJBQVMsb0JBQW9CRixJQUFwQixDQUFmOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBSUFFLE9BQU9DLFdBQVAsQ0FDRSxVQURGLEVBRUVELE9BQU9FLFdBQVAsQ0FBbUIsVUFBbkIsRUFBK0JDLFlBQS9CLENBQTRDO0FBQzFDckMsUUFBTSxhQURvQztBQUUxQ1osUUFBTzs7Ozs7TUFGbUM7QUFRMUNtQyxlQUFhLDhCQVI2QjtBQVMxQ2UsU0FBTyxDQUFDQyxRQUFELEVBQVdDLEtBQVgsRUFBa0JDLGFBQWxCLEtBQW9DO0FBQUU7QUFDM0MsUUFBSSxDQUFDRCxNQUFNRSxHQUFQLElBQWMsQ0FBQ0YsTUFBTUcsR0FBckIsSUFBNEIsQ0FBQ0gsTUFBTUksUUFBdkMsRUFBaUQ7QUFDakQ7QUFDQUwsYUFBUyxhQUFULElBQTBCO0FBQ3hCTSxhQUFPO0FBQ0xDLG1CQUFXO0FBQ1QxRCxnQkFBTSxPQURHO0FBRVQyRCx1QkFBYSxDQUFDUCxNQUFNRSxHQUFQLEVBQVlGLE1BQU1HLEdBQWxCO0FBRkosU0FETjtBQUtMSyxzQkFBY1IsTUFBTUksUUFMZixDQUt5QjtBQUx6QjtBQURpQixLQUExQjtBQVNEO0FBckJ5QyxDQUE1QztBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE5QkYiLCJmaWxlIjoidXNlci5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL3NjaGVtYS9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAZmxvdyAqL1xuXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNvbXBvc2VXaXRoTW9uZ29vc2UgZnJvbSAnZ3JhcGhxbC1jb21wb3NlLW1vbmdvb3NlL25vZGU4JztcblxuY29uc3QgQWNjb3VudFR5cGVTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgbGFuZ3VhZ2U6IFN0cmluZyxcbiAgICBza2lsbDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZW51bTogWydmcmVlJywgJ3BsdXMnLCAncHJvJ10sXG4gICAgfSxcbiAgfSxcbiAge1xuICAgIF9pZDogZmFsc2UsXG4gIH1cbik7XG5cbmNvbnN0IEFkZHJlc3NTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgc3RyZWV0OiBTdHJpbmcsXG4gIGdlbzoge1xuICAgIHR5cGU6IFtOdW1iZXJdLCAvLyBbPGxvbmdpdHVkZT4sIDxsYXRpdHVkZT5dXG4gICAgaW5kZXg6ICcyZHNwaGVyZScsIC8vIGNyZWF0ZSB0aGUgZ2Vvc3BhdGlhbCBpbmRleFxuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBVc2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIG1ldGE6IHtcbiAgICAgIHR5cGU6IE9iamVjdFxuICAgIH0sXG4gICAgX2lkOntcbiAgICAgIHR5cGU6IEJ1ZmZlcixcbiAgICB9LFxuICAgIG5hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGluZGV4OiB0cnVlLFxuICAgIH0sXG4gICAgaXNfYWN0aXZlOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgaW5kZXg6IHRydWUsXG4gICAgfSxcbiAgICBqb2luZWQ6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIGxhc3RfbG9naW46IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIHNldHRpbmdzOiB7XG4gICAgICBleHBsb3Jlcjoge1xuICAgICAgICBpbml0aWFsX3NlYXJjaGVzOiB7XG4gICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc29jaWFsX2FjY291bnRzOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgc3Vic2NyaXB0aW9uczoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIGFnZToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgaW5kZXg6IHRydWUsXG4gICAgfSxcbiAgICBhY2NvdW50VHlwZToge1xuICAgICAgdHlwZTogW0FjY291bnRUeXBlU2NoZW1hXSxcbiAgICAgIGRlZmF1bHQ6IFtdLFxuICAgIH0sIFxuICAgIGNvbnRhY3RzOiB7XG4gICAgICAvLyBhbm90aGVyIG1vbmdvb3NlIHdheSBmb3IgcHJvdmlkaW5nIGVtYmVkZGVkIGRvY3VtZW50c1xuICAgICAgZW1haWw6IFN0cmluZyxcbiAgICAgIHBob25lczogW1N0cmluZ10sIC8vIGFycmF5IG9mIHN0cmluZ3NcbiAgICB9LFxuICAgIGdlbmRlcjoge1xuICAgICAgLy8gZW51bSBmaWVsZCB3aXRoIHZhbHVlc1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZW51bTogWydtYWxlJywgJ2ZlbWFsZScsICdsYWR5Ym95JywgJ2FpJywgJ2FuaW1hbCcsICdtaW5lcmFsJywgJ290aGVyJ10sXG4gICAgfSxcbiAgICBhZGRyZXNzOiB7XG4gICAgICB0eXBlOiBBZGRyZXNzU2NoZW1hLFxuICAgIH0sXG4gICAgb3RoZXJEYXRhOiB7XG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuTWl4ZWQsXG4gICAgICBkZXNjcmlwdGlvbjogJ1NvbWUgZHluYW1pYyBkYXRhJyxcbiAgICB9LFxuICB9LFxuICB7XG4gICAgY29sbGVjdGlvbjogJ3VzZXJzJyxcbiAgICB0b09iamVjdDoge1xuICAgICAgdHJhbnNmb3JtOiBmdW5jdGlvbiAoZG9jLCByZXQpIHtcbiAgICAgICAgcmV0Ll9pZCA9IEJ1ZmZlci5mcm9tKHJldC5faWQsICdoZXgnKVswXTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHRvSlNPTjoge1xuICAgICAgdHJhbnNmb3JtOiBmdW5jdGlvbiAoZG9jLCByZXQpIHtcbiAgICAgICAgcmV0Ll9pZCA9IHJldC5faWQudG9TdHJpbmcoJ2hleCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuKTtcblxuLy8gVXNlclNjaGVtYS52aXJ0dWFsKCdfaWQnKVxuLy8gICAuc2V0KGZ1bmN0aW9uICh1dWlkNElEKSB7XG4vLyAgICAgdGhpcy5faWQgPSBCdWZmZXIuZnJvbSh1dWlkNElELCAnaGV4JylbMF07O1xuLy8gICB9KVxuLy8gICAuZ2V0KGZ1bmN0aW9uICgpIHtcbi8vICAgICByZXR1cm4gdGhpcy5faWQudG9TdHJpbmcoJ2hleCcpO1xuLy8gICB9KTtcblxuVXNlclNjaGVtYS5pbmRleCh7IGdlbmRlcjogMSwgYWdlOiAtMSB9KTtcblxuZXhwb3J0IGNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicsIFVzZXJTY2hlbWEpO1xuXG5leHBvcnQgY29uc3QgVXNlclRDID0gY29tcG9zZVdpdGhNb25nb29zZShVc2VyKTtcblxuLy8gVXNlclRDLmFkZEZpZWxkcyh7XG4vLyAgIF9pZDogeyAvLyBleHRlbmRlZFxuLy8gICAgIHR5cGU6ICdTdHJpbmcnLCAvLyBTdHJpbmcsIEludCwgRmxvYXQsIEJvb2xlYW4sIElELCBKc29uLCBhcnJheSBbXVxuLy8gICAgIGRlc2NyaXB0aW9uOiAndXVpZDQgaWQnLFxuLy8gICAgIHJlc29sdmU6IChzb3VyY2UsIGFyZ3MsIGNvbnRleHQsIGluZm8pID0+IHtcbi8vICAgICAgIHJldHVybiBzb3VyY2UuX2lkLnRvU3RyaW5nKCdoZXgnKTtcbi8vICAgICB9LFxuLy8gICB9XG4vLyB9KTtcblxuXG5cblVzZXJUQy5zZXRSZXNvbHZlcihcbiAgJ2ZpbmRNYW55JyxcbiAgVXNlclRDLmdldFJlc29sdmVyKCdmaW5kTWFueScpLmFkZEZpbHRlckFyZyh7XG4gICAgbmFtZTogJ2dlb0Rpc3RhbmNlJyxcbiAgICB0eXBlOiBgaW5wdXQgR2VvRGlzdGFuY2Uge1xuICAgICAgbG5nOiBGbG9hdCFcbiAgICAgIGxhdDogRmxvYXQhXG4gICAgICAjIERpc3RhbmNlIGluIG1ldGVyc1xuICAgICAgZGlzdGFuY2U6IEZsb2F0IVxuICAgIH1gLFxuICAgIGRlc2NyaXB0aW9uOiAnU2VhcmNoIGJ5IGRpc3RhbmNlIGluIG1ldGVycycsXG4gICAgcXVlcnk6IChyYXdRdWVyeSwgdmFsdWUsIHJlc29sdmVQYXJhbXMpID0+IHsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgaWYgKCF2YWx1ZS5sbmcgfHwgIXZhbHVlLmxhdCB8fCAhdmFsdWUuZGlzdGFuY2UpIHJldHVybjtcbiAgICAgIC8vIHJlYWQgbW9yZSBodHRwczovL2RvY3MubW9uZ29kYi5jb20vbWFudWFsL3R1dG9yaWFsL3F1ZXJ5LWEtMmRzcGhlcmUtaW5kZXgvXG4gICAgICByYXdRdWVyeVsnYWRkcmVzcy5nZW8nXSA9IHtcbiAgICAgICAgJG5lYXI6IHtcbiAgICAgICAgICAkZ2VvbWV0cnk6IHtcbiAgICAgICAgICAgIHR5cGU6ICdQb2ludCcsXG4gICAgICAgICAgICBjb29yZGluYXRlczogW3ZhbHVlLmxuZywgdmFsdWUubGF0XSxcbiAgICAgICAgICB9LFxuICAgICAgICAgICRtYXhEaXN0YW5jZTogdmFsdWUuZGlzdGFuY2UsIC8vIDxkaXN0YW5jZSBpbiBtZXRlcnM+XG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0sXG4gIH0pXG4gIC8vIC8qIEZPUiBERUJVRyAqL1xuICAvLyAgIC5kZWJ1ZygpXG4gIC8vIC8qIE9SIE1PUkUgUFJFQ0lTRUxZICovXG4gIC8vICAgLmRlYnVnUGFyYW1zKClcbiAgLy8gICAuZGVidWdQYXlsb2FkKClcbiAgLy8gICAuZGVidWdFeGVjVGltZSgpXG4pOyJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "AccountTypeSchema",
        "Schema",
        "language",
        "String",
        "skill",
        "type",
        "enum",
        "_id",
        "AddressSchema",
        "street",
        "geo",
        "Number",
        "index",
        "UserSchema",
        "meta",
        "Object",
        "Buffer",
        "name",
        "is_active",
        "Boolean",
        "joined",
        "Date",
        "last_login",
        "settings",
        "explorer",
        "initial_searches",
        "social_accounts",
        "Array",
        "subscriptions",
        "age",
        "accountType",
        "default",
        "contacts",
        "email",
        "phones",
        "gender",
        "address",
        "otherData",
        "Types",
        "Mixed",
        "description",
        "collection",
        "toObject",
        "transform",
        "doc",
        "ret",
        "from",
        "toJSON",
        "toString",
        "User",
        "model",
        "UserTC",
        "setResolver",
        "getResolver",
        "addFilterArg",
        "query",
        "rawQuery",
        "value",
        "resolveParams",
        "lng",
        "lat",
        "distance",
        "$near",
        "$geometry",
        "coordinates",
        "$maxDistance"
      ],
      "mappings": "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",
      "file": "user.js",
      "sourceRoot": "/app/schema/models",
      "sourcesContent": [
        "/* @flow */\n\nimport mongoose from 'mongoose';\nimport composeWithMongoose from 'graphql-compose-mongoose/node8';\n\nconst AccountTypeSchema = new mongoose.Schema(\n  {\n    language: String,\n    skill: {\n      type: String,\n      enum: ['free', 'plus', 'pro'],\n    },\n  },\n  {\n    _id: false,\n  }\n);\n\nconst AddressSchema = new mongoose.Schema({\n  street: String,\n  geo: {\n    type: [Number], // [<longitude>, <latitude>]\n    index: '2dsphere', // create the geospatial index\n  },\n});\n\nexport const UserSchema = new mongoose.Schema(\n  {\n    meta: {\n      type: Object\n    },\n    _id:{\n      type: Buffer,\n    },\n    name: {\n      type: String,\n      index: true,\n    },\n    is_active: {\n      type: Boolean,\n      index: true,\n    },\n    joined: {\n      type: Date,\n      index: false\n    },\n    last_login: {\n      type: Date,\n      index: false\n    },\n    settings: {\n      explorer: {\n        initial_searches: {\n          type: Boolean,\n          index: false\n        }\n      }\n    },\n    social_accounts: {\n      type: Array,\n      index: false\n    },\n    subscriptions: {\n      type: Array,\n      index: false\n    },\n    age: {\n      type: Number,\n      index: true,\n    },\n    accountType: {\n      type: [AccountTypeSchema],\n      default: [],\n    }, \n    contacts: {\n      // another mongoose way for providing embedded documents\n      email: String,\n      phones: [String], // array of strings\n    },\n    gender: {\n      // enum field with values\n      type: String,\n      enum: ['male', 'female', 'ladyboy', 'ai', 'animal', 'mineral', 'other'],\n    },\n    address: {\n      type: AddressSchema,\n    },\n    otherData: {\n      type: mongoose.Schema.Types.Mixed,\n      description: 'Some dynamic data',\n    },\n  },\n  {\n    collection: 'users',\n    toObject: {\n      transform: function (doc, ret) {\n        ret._id = Buffer.from(ret._id, 'hex')[0];\n      }\n    },\n    toJSON: {\n      transform: function (doc, ret) {\n        ret._id = ret._id.toString('hex');\n      }\n    }\n  }\n);\n\n// UserSchema.virtual('_id')\n//   .set(function (uuid4ID) {\n//     this._id = Buffer.from(uuid4ID, 'hex')[0];;\n//   })\n//   .get(function () {\n//     return this._id.toString('hex');\n//   });\n\nUserSchema.index({ gender: 1, age: -1 });\n\nexport const User = mongoose.model('User', UserSchema);\n\nexport const UserTC = composeWithMongoose(User);\n\n// UserTC.addFields({\n//   _id: { // extended\n//     type: 'String', // String, Int, Float, Boolean, ID, Json, array []\n//     description: 'uuid4 id',\n//     resolve: (source, args, context, info) => {\n//       return source._id.toString('hex');\n//     },\n//   }\n// });\n\n\n\nUserTC.setResolver(\n  'findMany',\n  UserTC.getResolver('findMany').addFilterArg({\n    name: 'geoDistance',\n    type: `input GeoDistance {\n      lng: Float!\n      lat: Float!\n      # Distance in meters\n      distance: Float!\n    }`,\n    description: 'Search by distance in meters',\n    query: (rawQuery, value, resolveParams) => { // eslint-disable-line\n      if (!value.lng || !value.lat || !value.distance) return;\n      // read more https://docs.mongodb.com/manual/tutorial/query-a-2dsphere-index/\n      rawQuery['address.geo'] = {\n        $near: {\n          $geometry: {\n            type: 'Point',\n            coordinates: [value.lng, value.lat],\n          },\n          $maxDistance: value.distance, // <distance in meters>\n        },\n      };\n    },\n  })\n  // /* FOR DEBUG */\n  //   .debug()\n  // /* OR MORE PRECISELY */\n  //   .debugParams()\n  //   .debugPayload()\n  //   .debugExecTime()\n);"
      ]
    },
    "mtime": 1521507900438
  },
  "{\"filename\":\"/app/schema/models/session.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/schema/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "graphql-compose-mongoose/node8",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "composeWithMongoose"
              }
            ]
          },
          {
            "source": "./user",
            "imported": [
              "UserTC"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "UserTC",
                "local": "UserTC"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "SessionSchema",
            "Session",
            "SessionTC"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "SessionSchema",
              "exported": "SessionSchema"
            },
            {
              "kind": "local",
              "local": "Session",
              "exported": "Session"
            },
            {
              "kind": "local",
              "local": "SessionTC",
              "exported": "SessionTC"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/schema/models/session.js",
      "filenameRelative": "/app/schema/models/session.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "session.js",
      "sourceFileName": "session.js",
      "sourceRoot": "/app/schema/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/schema/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "session"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SessionTC = exports.Session = exports.SessionSchema = undefined;\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _node = require('graphql-compose-mongoose/node8');\n\nvar _node2 = _interopRequireDefault(_node);\n\nvar _user = require('./user');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst SessionSchema = exports.SessionSchema = new _mongoose2.default.Schema({\n\n  created: {\n    type: Date\n  },\n  csrf_secret: {\n    type: String\n  },\n  expires: {\n    type: Date\n  },\n  ip: {\n    type: String // null\n  },\n  meta: {\n    agent: {\n      type: String\n    },\n    browser: {\n      family: {\n        type: String\n      },\n      version: {\n        type: String\n      }\n    },\n    device: {\n      family: {\n        type: String\n      },\n      version: {\n        type: String\n      }\n    },\n    os: {\n      family: {\n        type: String\n      },\n      version: {\n        type: String\n      }\n    }\n  },\n\n  persist: {\n    type: Boolean\n  },\n  token: {\n    type: String\n  },\n  ttl: {\n    type: Date\n  },\n  user_id: {\n    type: Buffer\n  }\n}, {\n  collection: 'sessions'\n});\n\nconst Session = exports.Session = _mongoose2.default.model('Session', SessionSchema);\n\nconst SessionTC = exports.SessionTC = (0, _node2.default)(Session);\n\nSessionTC.addFields({\n  id: {\n    type: 'String',\n    description: 'uuid4 id',\n    resolve: (source, args, context, info) => {\n      return source._id.toString('hex');\n    }\n  }\n});\n\nSessionTC.addRelation('user', {\n  resolver: () => _user.UserTC.getResolver('findById'),\n  prepareArgs: {\n    filter: source => ({ _id: source.user_id })\n  },\n  projection: { user_id: true }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlc3Npb24uanMiXSwibmFtZXMiOlsiU2Vzc2lvblNjaGVtYSIsIlNjaGVtYSIsImNyZWF0ZWQiLCJ0eXBlIiwiRGF0ZSIsImNzcmZfc2VjcmV0IiwiU3RyaW5nIiwiZXhwaXJlcyIsImlwIiwibWV0YSIsImFnZW50IiwiYnJvd3NlciIsImZhbWlseSIsInZlcnNpb24iLCJkZXZpY2UiLCJvcyIsInBlcnNpc3QiLCJCb29sZWFuIiwidG9rZW4iLCJ0dGwiLCJ1c2VyX2lkIiwiQnVmZmVyIiwiY29sbGVjdGlvbiIsIlNlc3Npb24iLCJtb2RlbCIsIlNlc3Npb25UQyIsImFkZEZpZWxkcyIsImlkIiwiZGVzY3JpcHRpb24iLCJyZXNvbHZlIiwic291cmNlIiwiYXJncyIsImNvbnRleHQiLCJpbmZvIiwiX2lkIiwidG9TdHJpbmciLCJhZGRSZWxhdGlvbiIsInJlc29sdmVyIiwiZ2V0UmVzb2x2ZXIiLCJwcmVwYXJlQXJncyIsImZpbHRlciIsInByb2plY3Rpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQTs7OztBQUNBOzs7O0FBRUE7Ozs7QUFFTyxNQUFNQSx3Q0FBZ0IsSUFBSSxtQkFBU0MsTUFBYixDQUMzQjs7QUFFRUMsV0FBUztBQUNQQyxVQUFNQztBQURDLEdBRlg7QUFLRUMsZUFBYTtBQUNYRixVQUFNRztBQURLLEdBTGY7QUFRRUMsV0FBUztBQUNQSixVQUFNQztBQURDLEdBUlg7QUFXRUksTUFBSTtBQUNGTCxVQUFNRyxNQURKLENBQ1c7QUFEWCxHQVhOO0FBY0VHLFFBQU07QUFDSkMsV0FBTztBQUNMUCxZQUFNRztBQURELEtBREg7QUFJSkssYUFBUztBQUNQQyxjQUFRO0FBQ05ULGNBQU1HO0FBREEsT0FERDtBQUlQTyxlQUFTO0FBQ1BWLGNBQU1HO0FBREM7QUFKRixLQUpMO0FBWUpRLFlBQVE7QUFDTkYsY0FBUTtBQUNOVCxjQUFNRztBQURBLE9BREY7QUFJTk8sZUFBUztBQUNQVixjQUFNRztBQURDO0FBSkgsS0FaSjtBQW9CSlMsUUFBSTtBQUNGSCxjQUFRO0FBQ05ULGNBQU1HO0FBREEsT0FETjtBQUlGTyxlQUFTO0FBQ1BWLGNBQU1HO0FBREM7QUFKUDtBQXBCQSxHQWRSOztBQTRDRVUsV0FBUztBQUNQYixVQUFNYztBQURDLEdBNUNYO0FBK0NFQyxTQUFPO0FBQ0xmLFVBQU1HO0FBREQsR0EvQ1Q7QUFrREVhLE9BQUs7QUFDSGhCLFVBQU1DO0FBREgsR0FsRFA7QUFxREVnQixXQUFTO0FBQ1BqQixVQUFNa0I7QUFEQztBQXJEWCxDQUQyQixFQTBEM0I7QUFDRUMsY0FBWTtBQURkLENBMUQyQixDQUF0Qjs7QUErREEsTUFBTUMsNEJBQVUsbUJBQVNDLEtBQVQsQ0FBZSxTQUFmLEVBQTBCeEIsYUFBMUIsQ0FBaEI7O0FBRUEsTUFBTXlCLGdDQUFZLG9CQUFvQkYsT0FBcEIsQ0FBbEI7O0FBRVBFLFVBQVVDLFNBQVYsQ0FBb0I7QUFDbEJDLE1BQUk7QUFDRnhCLFVBQU0sUUFESjtBQUVGeUIsaUJBQWEsVUFGWDtBQUdGQyxhQUFTLENBQUNDLE1BQUQsRUFBU0MsSUFBVCxFQUFlQyxPQUFmLEVBQXdCQyxJQUF4QixLQUFpQztBQUN4QyxhQUFPSCxPQUFPSSxHQUFQLENBQVdDLFFBQVgsQ0FBb0IsS0FBcEIsQ0FBUDtBQUNEO0FBTEM7QUFEYyxDQUFwQjs7QUFVQVYsVUFBVVcsV0FBVixDQUFzQixNQUF0QixFQUE4QjtBQUM1QkMsWUFBVSxNQUFNLGFBQU9DLFdBQVAsQ0FBbUIsVUFBbkIsQ0FEWTtBQUU1QkMsZUFBYTtBQUNYQyxZQUFRVixXQUFXLEVBQUVJLEtBQUtKLE9BQU9WLE9BQWQsRUFBWDtBQURHLEdBRmU7QUFLNUJxQixjQUFZLEVBQUVyQixTQUFTLElBQVg7QUFMZ0IsQ0FBOUIiLCJmaWxlIjoic2Vzc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL3NjaGVtYS9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBAZmxvdyAqL1xuXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNvbXBvc2VXaXRoTW9uZ29vc2UgZnJvbSAnZ3JhcGhxbC1jb21wb3NlLW1vbmdvb3NlL25vZGU4JztcblxuaW1wb3J0IHsgVXNlclRDIH0gZnJvbSAnLi91c2VyJztcblxuZXhwb3J0IGNvbnN0IFNlc3Npb25TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgXG4gICAgY3JlYXRlZDoge1xuICAgICAgdHlwZTogRGF0ZVxuICAgIH0sXG4gICAgY3NyZl9zZWNyZXQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgZXhwaXJlczoge1xuICAgICAgdHlwZTogRGF0ZVxuICAgIH0sXG4gICAgaXA6IHtcbiAgICAgIHR5cGU6IFN0cmluZyAvLyBudWxsXG4gICAgfSxcbiAgICBtZXRhOiB7XG4gICAgICBhZ2VudDoge1xuICAgICAgICB0eXBlOiBTdHJpbmcgXG4gICAgICB9LFxuICAgICAgYnJvd3Nlcjoge1xuICAgICAgICBmYW1pbHk6IHtcbiAgICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgICAgfSxcbiAgICAgICAgdmVyc2lvbjoge1xuICAgICAgICAgIHR5cGU6IFN0cmluZ1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGRldmljZToge1xuICAgICAgICBmYW1pbHk6IHtcbiAgICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgICAgfSxcbiAgICAgICAgdmVyc2lvbjoge1xuICAgICAgICAgIHR5cGU6IFN0cmluZ1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG9zOiB7XG4gICAgICAgIGZhbWlseToge1xuICAgICAgICAgIHR5cGU6IFN0cmluZ1xuICAgICAgICB9LFxuICAgICAgICB2ZXJzaW9uOiB7XG4gICAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0sXG4gICAgXG4gICAgcGVyc2lzdDoge1xuICAgICAgdHlwZTogQm9vbGVhblxuICAgIH0sXG4gICAgdG9rZW46IHtcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH0sXG4gICAgdHRsOiB7XG4gICAgICB0eXBlOiBEYXRlXG4gICAgfSxcbiAgICB1c2VyX2lkOiB7XG4gICAgICB0eXBlOiBCdWZmZXJcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBjb2xsZWN0aW9uOiAnc2Vzc2lvbnMnLFxuICB9XG4pO1xuXG5leHBvcnQgY29uc3QgU2Vzc2lvbiA9IG1vbmdvb3NlLm1vZGVsKCdTZXNzaW9uJywgU2Vzc2lvblNjaGVtYSk7XG5cbmV4cG9ydCBjb25zdCBTZXNzaW9uVEMgPSBjb21wb3NlV2l0aE1vbmdvb3NlKFNlc3Npb24pO1xuXG5TZXNzaW9uVEMuYWRkRmllbGRzKHtcbiAgaWQ6IHtcbiAgICB0eXBlOiAnU3RyaW5nJywgXG4gICAgZGVzY3JpcHRpb246ICd1dWlkNCBpZCcsXG4gICAgcmVzb2x2ZTogKHNvdXJjZSwgYXJncywgY29udGV4dCwgaW5mbykgPT4ge1xuICAgICAgcmV0dXJuIHNvdXJjZS5faWQudG9TdHJpbmcoJ2hleCcpO1xuICAgIH0sXG4gIH1cbn0pO1xuXG5TZXNzaW9uVEMuYWRkUmVsYXRpb24oJ3VzZXInLCB7XG4gIHJlc29sdmVyOiAoKSA9PiBVc2VyVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRCeUlkJyksXG4gIHByZXBhcmVBcmdzOiB7XG4gICAgZmlsdGVyOiBzb3VyY2UgPT4gKHsgX2lkOiBzb3VyY2UudXNlcl9pZCB9KSxcbiAgfSxcbiAgcHJvamVjdGlvbjogeyB1c2VyX2lkOiB0cnVlIH0sXG59KTsiXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "session.js"
      ],
      "names": [
        "SessionSchema",
        "Schema",
        "created",
        "type",
        "Date",
        "csrf_secret",
        "String",
        "expires",
        "ip",
        "meta",
        "agent",
        "browser",
        "family",
        "version",
        "device",
        "os",
        "persist",
        "Boolean",
        "token",
        "ttl",
        "user_id",
        "Buffer",
        "collection",
        "Session",
        "model",
        "SessionTC",
        "addFields",
        "id",
        "description",
        "resolve",
        "source",
        "args",
        "context",
        "info",
        "_id",
        "toString",
        "addRelation",
        "resolver",
        "getResolver",
        "prepareArgs",
        "filter",
        "projection"
      ],
      "mappings": ";;;;;;;AAEA;;;;AACA;;;;AAEA;;;;AAEO,MAAMA,wCAAgB,IAAI,mBAASC,MAAb,CAC3B;;AAEEC,WAAS;AACPC,UAAMC;AADC,GAFX;AAKEC,eAAa;AACXF,UAAMG;AADK,GALf;AAQEC,WAAS;AACPJ,UAAMC;AADC,GARX;AAWEI,MAAI;AACFL,UAAMG,MADJ,CACW;AADX,GAXN;AAcEG,QAAM;AACJC,WAAO;AACLP,YAAMG;AADD,KADH;AAIJK,aAAS;AACPC,cAAQ;AACNT,cAAMG;AADA,OADD;AAIPO,eAAS;AACPV,cAAMG;AADC;AAJF,KAJL;AAYJQ,YAAQ;AACNF,cAAQ;AACNT,cAAMG;AADA,OADF;AAINO,eAAS;AACPV,cAAMG;AADC;AAJH,KAZJ;AAoBJS,QAAI;AACFH,cAAQ;AACNT,cAAMG;AADA,OADN;AAIFO,eAAS;AACPV,cAAMG;AADC;AAJP;AApBA,GAdR;;AA4CEU,WAAS;AACPb,UAAMc;AADC,GA5CX;AA+CEC,SAAO;AACLf,UAAMG;AADD,GA/CT;AAkDEa,OAAK;AACHhB,UAAMC;AADH,GAlDP;AAqDEgB,WAAS;AACPjB,UAAMkB;AADC;AArDX,CAD2B,EA0D3B;AACEC,cAAY;AADd,CA1D2B,CAAtB;;AA+DA,MAAMC,4BAAU,mBAASC,KAAT,CAAe,SAAf,EAA0BxB,aAA1B,CAAhB;;AAEA,MAAMyB,gCAAY,oBAAoBF,OAApB,CAAlB;;AAEPE,UAAUC,SAAV,CAAoB;AAClBC,MAAI;AACFxB,UAAM,QADJ;AAEFyB,iBAAa,UAFX;AAGFC,aAAS,CAACC,MAAD,EAASC,IAAT,EAAeC,OAAf,EAAwBC,IAAxB,KAAiC;AACxC,aAAOH,OAAOI,GAAP,CAAWC,QAAX,CAAoB,KAApB,CAAP;AACD;AALC;AADc,CAApB;;AAUAV,UAAUW,WAAV,CAAsB,MAAtB,EAA8B;AAC5BC,YAAU,MAAM,aAAOC,WAAP,CAAmB,UAAnB,CADY;AAE5BC,eAAa;AACXC,YAAQV,WAAW,EAAEI,KAAKJ,OAAOV,OAAd,EAAX;AADG,GAFe;AAK5BqB,cAAY,EAAErB,SAAS,IAAX;AALgB,CAA9B",
      "file": "session.js",
      "sourceRoot": "/app/schema/models",
      "sourcesContent": [
        "/* @flow */\n\nimport mongoose from 'mongoose';\nimport composeWithMongoose from 'graphql-compose-mongoose/node8';\n\nimport { UserTC } from './user';\n\nexport const SessionSchema = new mongoose.Schema(\n  {\n    \n    created: {\n      type: Date\n    },\n    csrf_secret: {\n      type: String\n    },\n    expires: {\n      type: Date\n    },\n    ip: {\n      type: String // null\n    },\n    meta: {\n      agent: {\n        type: String \n      },\n      browser: {\n        family: {\n          type: String\n        },\n        version: {\n          type: String\n        },\n      },\n      device: {\n        family: {\n          type: String\n        },\n        version: {\n          type: String\n        },\n      },\n      os: {\n        family: {\n          type: String\n        },\n        version: {\n          type: String\n        },\n      },\n    },\n    \n    persist: {\n      type: Boolean\n    },\n    token: {\n      type: String\n    },\n    ttl: {\n      type: Date\n    },\n    user_id: {\n      type: Buffer\n    }\n  },\n  {\n    collection: 'sessions',\n  }\n);\n\nexport const Session = mongoose.model('Session', SessionSchema);\n\nexport const SessionTC = composeWithMongoose(Session);\n\nSessionTC.addFields({\n  id: {\n    type: 'String', \n    description: 'uuid4 id',\n    resolve: (source, args, context, info) => {\n      return source._id.toString('hex');\n    },\n  }\n});\n\nSessionTC.addRelation('user', {\n  resolver: () => UserTC.getResolver('findById'),\n  prepareArgs: {\n    filter: source => ({ _id: source.user_id }),\n  },\n  projection: { user_id: true },\n});"
      ]
    },
    "mtime": 1521501264918
  },
  "{\"filename\":\"/app/middleware/authorization.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/middleware\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "moment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "moment"
              }
            ]
          },
          {
            "source": "./session",
            "imported": [
              "SessionTC"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "SessionTC",
                "local": "SessionTC"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "req",
            "res",
            "next"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "req",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "res",
              "exported": "default"
            },
            {
              "kind": "local",
              "local": "next",
              "exported": "default"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/middleware/authorization.js",
      "filenameRelative": "/app/middleware/authorization.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "authorization.js",
      "sourceFileName": "authorization.js",
      "sourceRoot": "/app/middleware",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/middleware",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "authorization"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nexports.default = function (req, res, next) {\n\tlet cookieConsent = _config2.default.cookieConsent;\n\n\tconsole.log(req);\n\n\tif (!req.cookies['cookieconsent']) {\n\t\tif (req.cookies['sessionid']) {\n\t\t\tres.clearCookie('sessionid', {\n\t\t\t\tdomain: _config2.default.domain,\n\t\t\t\tsecure: true,\n\t\t\t\thttpOnly: true\n\t\t\t});\n\t\t}\n\t}\n\n\t// let $match = {\n\t//   $match: {\n\t//     token: req.cookies['sessionid'],\n\t//     expires: {\n\t//       $gt: moment.utc().toDate()\n\t//     },\n\t//     logout: null\n\t//   }\n\t// };\n\n\tlet result = _session.SessionTC.getResolver('findMany').resolve({\n\t\targs: {\n\t\t\ttoken: req.cookies['sessionid'],\n\t\t\texpires: {\n\t\t\t\t$gt: _moment2.default.utc().toDate()\n\t\t\t},\n\t\t\tlogout: null\n\t\t}\n\t});\n\n\tconsole.log(result);\n\n\t//   mongo.db('live').collection('sessions').aggregate([$match, $lookup, $project]).toArray()\n\t//     .then(function(sessions) {\n\t//       if (sessions.length > 1) {\n\t//         return Promise.reject(new Error('Duplicate session.'));\n\t//       }\n\n\t//       if (sessions.length === 0) {\n\t//         req.session = null;\n\t//       }\n\t//       else {\n\t//         let session = _.omit(sessions[0], 'users');\n\t//         let user = sessions[0].users[0];\n\n\t//         req.session = session;\n\t//         req.user = user || null;\n\t//       }\n\n\t//       next();\n\t//     })\n\t//     .catch(function(err) {\n\t//       next(err);\n\t//     });\n};\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _config = require('config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _session = require('./session');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nlet $lookup = {\n\t$lookup: {\n\t\tfrom: 'users',\n\t\tlocalField: 'user_id',\n\t\tforeignField: '_id',\n\t\tas: 'users'\n\t}\n};\n\nlet $project = {\n\t$project: {\n\t\t_id: false,\n\t\ttoken: true,\n\t\tcsrf_secret: true,\n\t\texpires: true,\n\t\t'users._id': true,\n\t\t'users.handle': true,\n\t\t'users.email': true,\n\t\t'users.last_name': true,\n\t\t'users.first_name': true,\n\t\t'users.last_login': true,\n\t\t'users.settings': true\n\t}\n};\n\n;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhvcml6YXRpb24uanMiXSwibmFtZXMiOlsicmVxIiwicmVzIiwibmV4dCIsImNvb2tpZUNvbnNlbnQiLCJjb25zb2xlIiwibG9nIiwiY29va2llcyIsImNsZWFyQ29va2llIiwiZG9tYWluIiwic2VjdXJlIiwiaHR0cE9ubHkiLCJyZXN1bHQiLCJnZXRSZXNvbHZlciIsInJlc29sdmUiLCJhcmdzIiwidG9rZW4iLCJleHBpcmVzIiwiJGd0IiwidXRjIiwidG9EYXRlIiwibG9nb3V0IiwiJGxvb2t1cCIsImZyb20iLCJsb2NhbEZpZWxkIiwiZm9yZWlnbkZpZWxkIiwiYXMiLCIkcHJvamVjdCIsIl9pZCIsImNzcmZfc2VjcmV0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7a0JBaUNlLFVBQVNBLEdBQVQsRUFBY0MsR0FBZCxFQUFtQkMsSUFBbkIsRUFBeUI7QUFDdEMsS0FBSUMsZ0JBQWdCLGlCQUFPQSxhQUEzQjs7QUFFQUMsU0FBUUMsR0FBUixDQUFZTCxHQUFaOztBQUVELEtBQUksQ0FBQ0EsSUFBSU0sT0FBSixDQUFZLGVBQVosQ0FBTCxFQUFtQztBQUNsQyxNQUFJTixJQUFJTSxPQUFKLENBQVksV0FBWixDQUFKLEVBQThCO0FBQzdCTCxPQUFJTSxXQUFKLENBQWdCLFdBQWhCLEVBQTZCO0FBQzVCQyxZQUFRLGlCQUFPQSxNQURhO0FBRTVCQyxZQUFRLElBRm9CO0FBRzVCQyxjQUFVO0FBSGtCLElBQTdCO0FBS0E7QUFDRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSUMsU0FBUyxtQkFBVUMsV0FBVixDQUFzQixVQUF0QixFQUFrQ0MsT0FBbEMsQ0FBMEM7QUFDckRDLFFBQU07QUFDSkMsVUFBT2YsSUFBSU0sT0FBSixDQUFZLFdBQVosQ0FESDtBQUVKVSxZQUFTO0FBQ1BDLFNBQUssaUJBQU9DLEdBQVAsR0FBYUMsTUFBYjtBQURFLElBRkw7QUFLSkMsV0FBUTtBQUxKO0FBRCtDLEVBQTFDLENBQWI7O0FBVUFoQixTQUFRQyxHQUFSLENBQVlNLE1BQVo7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQyxDOztBQTVGRDs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7OztBQUdBLElBQUlVLFVBQVU7QUFDYkEsVUFBUztBQUNSQyxRQUFNLE9BREU7QUFFUkMsY0FBWSxTQUZKO0FBR1JDLGdCQUFjLEtBSE47QUFJUkMsTUFBSTtBQUpJO0FBREksQ0FBZDs7QUFTQSxJQUFJQyxXQUFXO0FBQ2RBLFdBQVU7QUFDVEMsT0FBSyxLQURJO0FBRVRaLFNBQU8sSUFGRTtBQUdUYSxlQUFhLElBSEo7QUFJVFosV0FBUyxJQUpBO0FBS1QsZUFBYSxJQUxKO0FBTVQsa0JBQWdCLElBTlA7QUFPVCxpQkFBZSxJQVBOO0FBUVQscUJBQW1CLElBUlY7QUFTVCxzQkFBb0IsSUFUWDtBQVVULHNCQUFvQixJQVZYO0FBV1Qsb0JBQWtCO0FBWFQ7QUFESSxDQUFmOztBQTRFQyIsImZpbGUiOiJhdXRob3JpemF0aW9uLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvbWlkZGxld2FyZSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgY29uZmlnIGZyb20gJ2NvbmZpZyc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmltcG9ydCB7IFNlc3Npb25UQyB9IGZyb20gJy4vc2Vzc2lvbic7XG5cblxubGV0ICRsb29rdXAgPSB7XG5cdCRsb29rdXA6IHtcblx0XHRmcm9tOiAndXNlcnMnLFxuXHRcdGxvY2FsRmllbGQ6ICd1c2VyX2lkJyxcblx0XHRmb3JlaWduRmllbGQ6ICdfaWQnLFxuXHRcdGFzOiAndXNlcnMnXG5cdH1cbn07XG5cbmxldCAkcHJvamVjdCA9IHtcblx0JHByb2plY3Q6IHtcblx0XHRfaWQ6IGZhbHNlLFxuXHRcdHRva2VuOiB0cnVlLFxuXHRcdGNzcmZfc2VjcmV0OiB0cnVlLFxuXHRcdGV4cGlyZXM6IHRydWUsXG5cdFx0J3VzZXJzLl9pZCc6IHRydWUsXG5cdFx0J3VzZXJzLmhhbmRsZSc6IHRydWUsXG5cdFx0J3VzZXJzLmVtYWlsJzogdHJ1ZSxcblx0XHQndXNlcnMubGFzdF9uYW1lJzogdHJ1ZSxcblx0XHQndXNlcnMuZmlyc3RfbmFtZSc6IHRydWUsXG5cdFx0J3VzZXJzLmxhc3RfbG9naW4nOiB0cnVlLFxuXHRcdCd1c2Vycy5zZXR0aW5ncyc6IHRydWVcblx0fVxufTtcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICBsZXQgY29va2llQ29uc2VudCA9IGNvbmZpZy5jb29raWVDb25zZW50O1xuICBcbiAgY29uc29sZS5sb2cocmVxKTtcblxuXHRpZiAoIXJlcS5jb29raWVzWydjb29raWVjb25zZW50J10pIHtcblx0XHRpZiAocmVxLmNvb2tpZXNbJ3Nlc3Npb25pZCddKSB7XG5cdFx0XHRyZXMuY2xlYXJDb29raWUoJ3Nlc3Npb25pZCcsIHtcblx0XHRcdFx0ZG9tYWluOiBjb25maWcuZG9tYWluLFxuXHRcdFx0XHRzZWN1cmU6IHRydWUsXG5cdFx0XHRcdGh0dHBPbmx5OiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbiAgXG4gIC8vIGxldCAkbWF0Y2ggPSB7XG4gIC8vICAgJG1hdGNoOiB7XG4gIC8vICAgICB0b2tlbjogcmVxLmNvb2tpZXNbJ3Nlc3Npb25pZCddLFxuICAvLyAgICAgZXhwaXJlczoge1xuICAvLyAgICAgICAkZ3Q6IG1vbWVudC51dGMoKS50b0RhdGUoKVxuICAvLyAgICAgfSxcbiAgLy8gICAgIGxvZ291dDogbnVsbFxuICAvLyAgIH1cbiAgLy8gfTtcbiAgXG4gIGxldCByZXN1bHQgPSBTZXNzaW9uVEMuZ2V0UmVzb2x2ZXIoJ2ZpbmRNYW55JykucmVzb2x2ZSh7XG4gICAgYXJnczoge1xuICAgICAgdG9rZW46IHJlcS5jb29raWVzWydzZXNzaW9uaWQnXSxcbiAgICAgIGV4cGlyZXM6IHtcbiAgICAgICAgJGd0OiBtb21lbnQudXRjKCkudG9EYXRlKClcbiAgICAgIH0sXG4gICAgICBsb2dvdXQ6IG51bGxcbiAgICB9XG4gIH0pO1xuICBcbiAgY29uc29sZS5sb2cocmVzdWx0KTtcblxuLy8gICBtb25nby5kYignbGl2ZScpLmNvbGxlY3Rpb24oJ3Nlc3Npb25zJykuYWdncmVnYXRlKFskbWF0Y2gsICRsb29rdXAsICRwcm9qZWN0XSkudG9BcnJheSgpXG4vLyAgICAgLnRoZW4oZnVuY3Rpb24oc2Vzc2lvbnMpIHtcbi8vICAgICAgIGlmIChzZXNzaW9ucy5sZW5ndGggPiAxKSB7XG4vLyAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ0R1cGxpY2F0ZSBzZXNzaW9uLicpKTtcbi8vICAgICAgIH1cblxuLy8gICAgICAgaWYgKHNlc3Npb25zLmxlbmd0aCA9PT0gMCkge1xuLy8gICAgICAgICByZXEuc2Vzc2lvbiA9IG51bGw7XG4vLyAgICAgICB9XG4vLyAgICAgICBlbHNlIHtcbi8vICAgICAgICAgbGV0IHNlc3Npb24gPSBfLm9taXQoc2Vzc2lvbnNbMF0sICd1c2VycycpO1xuLy8gICAgICAgICBsZXQgdXNlciA9IHNlc3Npb25zWzBdLnVzZXJzWzBdO1xuXG4vLyAgICAgICAgIHJlcS5zZXNzaW9uID0gc2Vzc2lvbjtcbi8vICAgICAgICAgcmVxLnVzZXIgPSB1c2VyIHx8IG51bGw7XG4vLyAgICAgICB9XG5cbi8vICAgICAgIG5leHQoKTtcbi8vICAgICB9KVxuLy8gICAgIC5jYXRjaChmdW5jdGlvbihlcnIpIHtcbi8vICAgICAgIG5leHQoZXJyKTtcbi8vICAgICB9KTtcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "authorization.js"
      ],
      "names": [
        "req",
        "res",
        "next",
        "cookieConsent",
        "console",
        "log",
        "cookies",
        "clearCookie",
        "domain",
        "secure",
        "httpOnly",
        "result",
        "getResolver",
        "resolve",
        "args",
        "token",
        "expires",
        "$gt",
        "utc",
        "toDate",
        "logout",
        "$lookup",
        "from",
        "localField",
        "foreignField",
        "as",
        "$project",
        "_id",
        "csrf_secret"
      ],
      "mappings": ";;;;;;kBAiCe,UAASA,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACtC,KAAIC,gBAAgB,iBAAOA,aAA3B;;AAEAC,SAAQC,GAAR,CAAYL,GAAZ;;AAED,KAAI,CAACA,IAAIM,OAAJ,CAAY,eAAZ,CAAL,EAAmC;AAClC,MAAIN,IAAIM,OAAJ,CAAY,WAAZ,CAAJ,EAA8B;AAC7BL,OAAIM,WAAJ,CAAgB,WAAhB,EAA6B;AAC5BC,YAAQ,iBAAOA,MADa;AAE5BC,YAAQ,IAFoB;AAG5BC,cAAU;AAHkB,IAA7B;AAKA;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAIC,SAAS,mBAAUC,WAAV,CAAsB,UAAtB,EAAkCC,OAAlC,CAA0C;AACrDC,QAAM;AACJC,UAAOf,IAAIM,OAAJ,CAAY,WAAZ,CADH;AAEJU,YAAS;AACPC,SAAK,iBAAOC,GAAP,GAAaC,MAAb;AADE,IAFL;AAKJC,WAAQ;AALJ;AAD+C,EAA1C,CAAb;;AAUAhB,SAAQC,GAAR,CAAYM,MAAZ;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACC,C;;AA5FD;;;;AACA;;;;AACA;;;;AAEA;;;;AAGA,IAAIU,UAAU;AACbA,UAAS;AACRC,QAAM,OADE;AAERC,cAAY,SAFJ;AAGRC,gBAAc,KAHN;AAIRC,MAAI;AAJI;AADI,CAAd;;AASA,IAAIC,WAAW;AACdA,WAAU;AACTC,OAAK,KADI;AAETZ,SAAO,IAFE;AAGTa,eAAa,IAHJ;AAITZ,WAAS,IAJA;AAKT,eAAa,IALJ;AAMT,kBAAgB,IANP;AAOT,iBAAe,IAPN;AAQT,qBAAmB,IARV;AAST,sBAAoB,IATX;AAUT,sBAAoB,IAVX;AAWT,oBAAkB;AAXT;AADI,CAAf;;AA4EC",
      "file": "authorization.js",
      "sourceRoot": "/app/middleware",
      "sourcesContent": [
        "import _ from 'lodash';\nimport config from 'config';\nimport moment from 'moment';\n\nimport { SessionTC } from './session';\n\n\nlet $lookup = {\n\t$lookup: {\n\t\tfrom: 'users',\n\t\tlocalField: 'user_id',\n\t\tforeignField: '_id',\n\t\tas: 'users'\n\t}\n};\n\nlet $project = {\n\t$project: {\n\t\t_id: false,\n\t\ttoken: true,\n\t\tcsrf_secret: true,\n\t\texpires: true,\n\t\t'users._id': true,\n\t\t'users.handle': true,\n\t\t'users.email': true,\n\t\t'users.last_name': true,\n\t\t'users.first_name': true,\n\t\t'users.last_login': true,\n\t\t'users.settings': true\n\t}\n};\n\n\nexport default function(req, res, next) {\n  let cookieConsent = config.cookieConsent;\n  \n  console.log(req);\n\n\tif (!req.cookies['cookieconsent']) {\n\t\tif (req.cookies['sessionid']) {\n\t\t\tres.clearCookie('sessionid', {\n\t\t\t\tdomain: config.domain,\n\t\t\t\tsecure: true,\n\t\t\t\thttpOnly: true\n\t\t\t});\n\t\t}\n\t}\n  \n  // let $match = {\n  //   $match: {\n  //     token: req.cookies['sessionid'],\n  //     expires: {\n  //       $gt: moment.utc().toDate()\n  //     },\n  //     logout: null\n  //   }\n  // };\n  \n  let result = SessionTC.getResolver('findMany').resolve({\n    args: {\n      token: req.cookies['sessionid'],\n      expires: {\n        $gt: moment.utc().toDate()\n      },\n      logout: null\n    }\n  });\n  \n  console.log(result);\n\n//   mongo.db('live').collection('sessions').aggregate([$match, $lookup, $project]).toArray()\n//     .then(function(sessions) {\n//       if (sessions.length > 1) {\n//         return Promise.reject(new Error('Duplicate session.'));\n//       }\n\n//       if (sessions.length === 0) {\n//         req.session = null;\n//       }\n//       else {\n//         let session = _.omit(sessions[0], 'users');\n//         let user = sessions[0].users[0];\n\n//         req.session = session;\n//         req.user = user || null;\n//       }\n\n//       next();\n//     })\n//     .catch(function(err) {\n//       next(err);\n//     });\n};\n"
      ]
    },
    "mtime": 1521502980823
  },
  "{\"filename\":\"/app/middleware/cookie-authorization.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/middleware\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator",
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "lodash",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "_"
              }
            ]
          },
          {
            "source": "config",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "config"
              }
            ]
          },
          {
            "source": "moment",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "moment"
              }
            ]
          },
          {
            "source": "../schema/models/session",
            "imported": [
              "SessionTC"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "SessionTC",
                "local": "SessionTC"
              }
            ]
          }
        ],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/middleware/cookie-authorization.js",
      "filenameRelative": "/app/middleware/cookie-authorization.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "cookie-authorization.js",
      "sourceFileName": "cookie-authorization.js",
      "sourceRoot": "/app/middleware",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/middleware",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "cookie-authorization"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _config = require('config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _session = require('../schema/models/session');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nlet $lookup = {\n  $lookup: {\n    from: 'users',\n    localField: 'user_id',\n    foreignField: '_id',\n    as: 'users'\n  }\n};\n\nlet $project = {\n  $project: {\n    _id: false,\n    token: true,\n    csrf_secret: true,\n    expires: true,\n    'users._id': true,\n    'users.handle': true,\n    'users.email': true,\n    'users.last_name': true,\n    'users.first_name': true,\n    'users.last_login': true,\n    'users.settings': true\n  }\n};\n\nexports.default = (() => {\n  var _ref = _asyncToGenerator(function* (req, res, next) {\n    let cookieConsent = _config2.default.cookieConsent;\n\n    if (!req.cookies['cookieconsent']) {\n      if (req.cookies['sessionid']) {\n        res.clearCookie('sessionid', {\n          domain: _config2.default.domain,\n          secure: true,\n          httpOnly: true\n        });\n      }\n    }\n\n    console.log(req.cookies);\n\n    let result = yield _session.SessionTC.getResolver('findMany').resolve({\n      args: {\n        filter: {\n          token: req.cookies['sessionid'],\n          expires: {\n            $gt: _moment2.default.utc().toDate()\n          },\n          logout: null\n        }\n      },\n      projection: {\n        user: true,\n        token: true,\n        csrf_secret: true,\n        expires: true\n      }\n    });\n\n    console.log(result);\n\n    res.cookie(_config2.default.sessions.cookieName, '2EFCEBCFA93E42C7A722023AC5A664EE254502B5C96A41F9B0DDB43F2CEEC2697070D8997FAB4039A2FBDD788DA766CE', {\n      domain: 'lifescope-api.glitch.me',\n      secure: true,\n      httpOnly: true,\n      expires: 0\n    });\n\n    // console.log(result);\n\n    //   mongo.db('live').collection('sessions').aggregate([$match, $lookup, $project]).toArray()\n    //     .then(function(sessions) {\n    //       if (sessions.length > 1) {\n    //         return Promise.reject(new Error('Duplicate session.'));\n    //       }\n\n    //       if (sessions.length === 0) {\n    //         req.session = null;\n    //       }\n    //       else {\n    //         let session = _.omit(sessions[0], 'users');\n    //         let user = sessions[0].users[0];\n\n    //         req.session = session;\n    //         req.user = user || null;\n    //       }\n\n    //       next();\n    //     })\n    //     .catch(function(err) {\n    //       next(err);\n    //     });\n\n    next();\n  });\n\n  return function (_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n})();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvb2tpZS1hdXRob3JpemF0aW9uLmpzIl0sIm5hbWVzIjpbIiRsb29rdXAiLCJmcm9tIiwibG9jYWxGaWVsZCIsImZvcmVpZ25GaWVsZCIsImFzIiwiJHByb2plY3QiLCJfaWQiLCJ0b2tlbiIsImNzcmZfc2VjcmV0IiwiZXhwaXJlcyIsInJlcSIsInJlcyIsIm5leHQiLCJjb29raWVDb25zZW50IiwiY29va2llcyIsImNsZWFyQ29va2llIiwiZG9tYWluIiwic2VjdXJlIiwiaHR0cE9ubHkiLCJjb25zb2xlIiwibG9nIiwicmVzdWx0IiwiZ2V0UmVzb2x2ZXIiLCJyZXNvbHZlIiwiYXJncyIsImZpbHRlciIsIiRndCIsInV0YyIsInRvRGF0ZSIsImxvZ291dCIsInByb2plY3Rpb24iLCJ1c2VyIiwiY29va2llIiwic2Vzc2lvbnMiLCJjb29raWVOYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFQTs7Ozs7O0FBR0EsSUFBSUEsVUFBVTtBQUNiQSxXQUFTO0FBQ1JDLFVBQU0sT0FERTtBQUVSQyxnQkFBWSxTQUZKO0FBR1JDLGtCQUFjLEtBSE47QUFJUkMsUUFBSTtBQUpJO0FBREksQ0FBZDs7QUFTQSxJQUFJQyxXQUFXO0FBQ2RBLFlBQVU7QUFDVEMsU0FBSyxLQURJO0FBRVRDLFdBQU8sSUFGRTtBQUdUQyxpQkFBYSxJQUhKO0FBSVRDLGFBQVMsSUFKQTtBQUtULGlCQUFhLElBTEo7QUFNVCxvQkFBZ0IsSUFOUDtBQU9ULG1CQUFlLElBUE47QUFRVCx1QkFBbUIsSUFSVjtBQVNULHdCQUFvQixJQVRYO0FBVVQsd0JBQW9CLElBVlg7QUFXVCxzQkFBa0I7QUFYVDtBQURJLENBQWY7OzsrQkFpQmUsV0FBZUMsR0FBZixFQUFvQkMsR0FBcEIsRUFBeUJDLElBQXpCLEVBQStCO0FBQzVDLFFBQUlDLGdCQUFnQixpQkFBT0EsYUFBM0I7O0FBRUQsUUFBSSxDQUFDSCxJQUFJSSxPQUFKLENBQVksZUFBWixDQUFMLEVBQW1DO0FBQ2xDLFVBQUlKLElBQUlJLE9BQUosQ0FBWSxXQUFaLENBQUosRUFBOEI7QUFDN0JILFlBQUlJLFdBQUosQ0FBZ0IsV0FBaEIsRUFBNkI7QUFDNUJDLGtCQUFRLGlCQUFPQSxNQURhO0FBRTVCQyxrQkFBUSxJQUZvQjtBQUc1QkMsb0JBQVU7QUFIa0IsU0FBN0I7QUFLQTtBQUNEOztBQUVBQyxZQUFRQyxHQUFSLENBQVlWLElBQUlJLE9BQWhCOztBQUVBLFFBQUlPLFNBQVMsTUFBTSxtQkFBVUMsV0FBVixDQUFzQixVQUF0QixFQUFrQ0MsT0FBbEMsQ0FBMEM7QUFDM0RDLFlBQU07QUFDSkMsZ0JBQVE7QUFDTmxCLGlCQUFPRyxJQUFJSSxPQUFKLENBQVksV0FBWixDQUREO0FBRU5MLG1CQUFTO0FBQ1BpQixpQkFBSyxpQkFBT0MsR0FBUCxHQUFhQyxNQUFiO0FBREUsV0FGSDtBQUtOQyxrQkFBUTtBQUxGO0FBREosT0FEcUQ7QUFVM0RDLGtCQUFZO0FBQ1ZDLGNBQU0sSUFESTtBQUVWeEIsZUFBTyxJQUZHO0FBR1ZDLHFCQUFhLElBSEg7QUFJVkMsaUJBQVM7QUFKQztBQVYrQyxLQUExQyxDQUFuQjs7QUFrQkFVLFlBQVFDLEdBQVIsQ0FBWUMsTUFBWjs7QUFFQVYsUUFBSXFCLE1BQUosQ0FBVyxpQkFBT0MsUUFBUCxDQUFnQkMsVUFBM0IsRUFBdUMsa0dBQXZDLEVBQTJJO0FBQ3pJbEIsY0FBUSx5QkFEaUk7QUFFeklDLGNBQVEsSUFGaUk7QUFHeklDLGdCQUFVLElBSCtIO0FBSXpJVCxlQUFTO0FBSmdJLEtBQTNJOztBQU9BOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVFRztBQUNELEciLCJmaWxlIjoiY29va2llLWF1dGhvcml6YXRpb24uanMiLCJzb3VyY2VSb290IjoiL2FwcC9taWRkbGV3YXJlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCBjb25maWcgZnJvbSAnY29uZmlnJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcblxuaW1wb3J0IHsgU2Vzc2lvblRDIH0gZnJvbSAnLi4vc2NoZW1hL21vZGVscy9zZXNzaW9uJztcblxuXG5sZXQgJGxvb2t1cCA9IHtcblx0JGxvb2t1cDoge1xuXHRcdGZyb206ICd1c2VycycsXG5cdFx0bG9jYWxGaWVsZDogJ3VzZXJfaWQnLFxuXHRcdGZvcmVpZ25GaWVsZDogJ19pZCcsXG5cdFx0YXM6ICd1c2Vycydcblx0fVxufTtcblxubGV0ICRwcm9qZWN0ID0ge1xuXHQkcHJvamVjdDoge1xuXHRcdF9pZDogZmFsc2UsXG5cdFx0dG9rZW46IHRydWUsXG5cdFx0Y3NyZl9zZWNyZXQ6IHRydWUsXG5cdFx0ZXhwaXJlczogdHJ1ZSxcblx0XHQndXNlcnMuX2lkJzogdHJ1ZSxcblx0XHQndXNlcnMuaGFuZGxlJzogdHJ1ZSxcblx0XHQndXNlcnMuZW1haWwnOiB0cnVlLFxuXHRcdCd1c2Vycy5sYXN0X25hbWUnOiB0cnVlLFxuXHRcdCd1c2Vycy5maXJzdF9uYW1lJzogdHJ1ZSxcblx0XHQndXNlcnMubGFzdF9sb2dpbic6IHRydWUsXG5cdFx0J3VzZXJzLnNldHRpbmdzJzogdHJ1ZVxuXHR9XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIGxldCBjb29raWVDb25zZW50ID0gY29uZmlnLmNvb2tpZUNvbnNlbnQ7XG5cblx0aWYgKCFyZXEuY29va2llc1snY29va2llY29uc2VudCddKSB7XG5cdFx0aWYgKHJlcS5jb29raWVzWydzZXNzaW9uaWQnXSkge1xuXHRcdFx0cmVzLmNsZWFyQ29va2llKCdzZXNzaW9uaWQnLCB7XG5cdFx0XHRcdGRvbWFpbjogY29uZmlnLmRvbWFpbixcblx0XHRcdFx0c2VjdXJlOiB0cnVlLFxuXHRcdFx0XHRodHRwT25seTogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG4gIFxuICBjb25zb2xlLmxvZyhyZXEuY29va2llcyk7XG4gIFxuICBsZXQgcmVzdWx0ID0gYXdhaXQgU2Vzc2lvblRDLmdldFJlc29sdmVyKCdmaW5kTWFueScpLnJlc29sdmUoe1xuICAgIGFyZ3M6IHtcbiAgICAgIGZpbHRlcjoge1xuICAgICAgICB0b2tlbjogcmVxLmNvb2tpZXNbJ3Nlc3Npb25pZCddLFxuICAgICAgICBleHBpcmVzOiB7XG4gICAgICAgICAgJGd0OiBtb21lbnQudXRjKCkudG9EYXRlKClcbiAgICAgICAgfSxcbiAgICAgICAgbG9nb3V0OiBudWxsXG4gICAgICB9XG4gICAgfSxcbiAgICBwcm9qZWN0aW9uOiB7XG4gICAgICB1c2VyOiB0cnVlLFxuICAgICAgdG9rZW46IHRydWUsXG4gICAgICBjc3JmX3NlY3JldDogdHJ1ZSxcbiAgICAgIGV4cGlyZXM6IHRydWVcbiAgICB9XG4gIH0pO1xuICBcbiAgY29uc29sZS5sb2cocmVzdWx0KTtcblxuICByZXMuY29va2llKGNvbmZpZy5zZXNzaW9ucy5jb29raWVOYW1lLCAnMkVGQ0VCQ0ZBOTNFNDJDN0E3MjIwMjNBQzVBNjY0RUUyNTQ1MDJCNUM5NkE0MUY5QjBEREI0M0YyQ0VFQzI2OTcwNzBEODk5N0ZBQjQwMzlBMkZCREQ3ODhEQTc2NkNFJywge1xuICAgIGRvbWFpbjogJ2xpZmVzY29wZS1hcGkuZ2xpdGNoLm1lJyxcbiAgICBzZWN1cmU6IHRydWUsXG4gICAgaHR0cE9ubHk6IHRydWUsXG4gICAgZXhwaXJlczogMFxuICB9KTtcbiAgXG4gIC8vIGNvbnNvbGUubG9nKHJlc3VsdCk7XG5cbi8vICAgbW9uZ28uZGIoJ2xpdmUnKS5jb2xsZWN0aW9uKCdzZXNzaW9ucycpLmFnZ3JlZ2F0ZShbJG1hdGNoLCAkbG9va3VwLCAkcHJvamVjdF0pLnRvQXJyYXkoKVxuLy8gICAgIC50aGVuKGZ1bmN0aW9uKHNlc3Npb25zKSB7XG4vLyAgICAgICBpZiAoc2Vzc2lvbnMubGVuZ3RoID4gMSkge1xuLy8gICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdEdXBsaWNhdGUgc2Vzc2lvbi4nKSk7XG4vLyAgICAgICB9XG5cbi8vICAgICAgIGlmIChzZXNzaW9ucy5sZW5ndGggPT09IDApIHtcbi8vICAgICAgICAgcmVxLnNlc3Npb24gPSBudWxsO1xuLy8gICAgICAgfVxuLy8gICAgICAgZWxzZSB7XG4vLyAgICAgICAgIGxldCBzZXNzaW9uID0gXy5vbWl0KHNlc3Npb25zWzBdLCAndXNlcnMnKTtcbi8vICAgICAgICAgbGV0IHVzZXIgPSBzZXNzaW9uc1swXS51c2Vyc1swXTtcblxuLy8gICAgICAgICByZXEuc2Vzc2lvbiA9IHNlc3Npb247XG4vLyAgICAgICAgIHJlcS51c2VyID0gdXNlciB8fCBudWxsO1xuLy8gICAgICAgfVxuXG4vLyAgICAgICBuZXh0KCk7XG4vLyAgICAgfSlcbi8vICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG4vLyAgICAgICBuZXh0KGVycik7XG4vLyAgICAgfSk7XG4gIFxuICBuZXh0KCk7XG59O1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "cookie-authorization.js"
      ],
      "names": [
        "$lookup",
        "from",
        "localField",
        "foreignField",
        "as",
        "$project",
        "_id",
        "token",
        "csrf_secret",
        "expires",
        "req",
        "res",
        "next",
        "cookieConsent",
        "cookies",
        "clearCookie",
        "domain",
        "secure",
        "httpOnly",
        "console",
        "log",
        "result",
        "getResolver",
        "resolve",
        "args",
        "filter",
        "$gt",
        "utc",
        "toDate",
        "logout",
        "projection",
        "user",
        "cookie",
        "sessions",
        "cookieName"
      ],
      "mappings": ";;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEA;;;;;;AAGA,IAAIA,UAAU;AACbA,WAAS;AACRC,UAAM,OADE;AAERC,gBAAY,SAFJ;AAGRC,kBAAc,KAHN;AAIRC,QAAI;AAJI;AADI,CAAd;;AASA,IAAIC,WAAW;AACdA,YAAU;AACTC,SAAK,KADI;AAETC,WAAO,IAFE;AAGTC,iBAAa,IAHJ;AAITC,aAAS,IAJA;AAKT,iBAAa,IALJ;AAMT,oBAAgB,IANP;AAOT,mBAAe,IAPN;AAQT,uBAAmB,IARV;AAST,wBAAoB,IATX;AAUT,wBAAoB,IAVX;AAWT,sBAAkB;AAXT;AADI,CAAf;;;+BAiBe,WAAeC,GAAf,EAAoBC,GAApB,EAAyBC,IAAzB,EAA+B;AAC5C,QAAIC,gBAAgB,iBAAOA,aAA3B;;AAED,QAAI,CAACH,IAAII,OAAJ,CAAY,eAAZ,CAAL,EAAmC;AAClC,UAAIJ,IAAII,OAAJ,CAAY,WAAZ,CAAJ,EAA8B;AAC7BH,YAAII,WAAJ,CAAgB,WAAhB,EAA6B;AAC5BC,kBAAQ,iBAAOA,MADa;AAE5BC,kBAAQ,IAFoB;AAG5BC,oBAAU;AAHkB,SAA7B;AAKA;AACD;;AAEAC,YAAQC,GAAR,CAAYV,IAAII,OAAhB;;AAEA,QAAIO,SAAS,MAAM,mBAAUC,WAAV,CAAsB,UAAtB,EAAkCC,OAAlC,CAA0C;AAC3DC,YAAM;AACJC,gBAAQ;AACNlB,iBAAOG,IAAII,OAAJ,CAAY,WAAZ,CADD;AAENL,mBAAS;AACPiB,iBAAK,iBAAOC,GAAP,GAAaC,MAAb;AADE,WAFH;AAKNC,kBAAQ;AALF;AADJ,OADqD;AAU3DC,kBAAY;AACVC,cAAM,IADI;AAEVxB,eAAO,IAFG;AAGVC,qBAAa,IAHH;AAIVC,iBAAS;AAJC;AAV+C,KAA1C,CAAnB;;AAkBAU,YAAQC,GAAR,CAAYC,MAAZ;;AAEAV,QAAIqB,MAAJ,CAAW,iBAAOC,QAAP,CAAgBC,UAA3B,EAAuC,kGAAvC,EAA2I;AACzIlB,cAAQ,yBADiI;AAEzIC,cAAQ,IAFiI;AAGzIC,gBAAU,IAH+H;AAIzIT,eAAS;AAJgI,KAA3I;;AAOA;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEEG;AACD,G",
      "file": "cookie-authorization.js",
      "sourceRoot": "/app/middleware",
      "sourcesContent": [
        "import _ from 'lodash';\nimport config from 'config';\nimport moment from 'moment';\n\nimport { SessionTC } from '../schema/models/session';\n\n\nlet $lookup = {\n\t$lookup: {\n\t\tfrom: 'users',\n\t\tlocalField: 'user_id',\n\t\tforeignField: '_id',\n\t\tas: 'users'\n\t}\n};\n\nlet $project = {\n\t$project: {\n\t\t_id: false,\n\t\ttoken: true,\n\t\tcsrf_secret: true,\n\t\texpires: true,\n\t\t'users._id': true,\n\t\t'users.handle': true,\n\t\t'users.email': true,\n\t\t'users.last_name': true,\n\t\t'users.first_name': true,\n\t\t'users.last_login': true,\n\t\t'users.settings': true\n\t}\n};\n\n\nexport default async function(req, res, next) {\n  let cookieConsent = config.cookieConsent;\n\n\tif (!req.cookies['cookieconsent']) {\n\t\tif (req.cookies['sessionid']) {\n\t\t\tres.clearCookie('sessionid', {\n\t\t\t\tdomain: config.domain,\n\t\t\t\tsecure: true,\n\t\t\t\thttpOnly: true\n\t\t\t});\n\t\t}\n\t}\n  \n  console.log(req.cookies);\n  \n  let result = await SessionTC.getResolver('findMany').resolve({\n    args: {\n      filter: {\n        token: req.cookies['sessionid'],\n        expires: {\n          $gt: moment.utc().toDate()\n        },\n        logout: null\n      }\n    },\n    projection: {\n      user: true,\n      token: true,\n      csrf_secret: true,\n      expires: true\n    }\n  });\n  \n  console.log(result);\n\n  res.cookie(config.sessions.cookieName, '2EFCEBCFA93E42C7A722023AC5A664EE254502B5C96A41F9B0DDB43F2CEEC2697070D8997FAB4039A2FBDD788DA766CE', {\n    domain: 'lifescope-api.glitch.me',\n    secure: true,\n    httpOnly: true,\n    expires: 0\n  });\n  \n  // console.log(result);\n\n//   mongo.db('live').collection('sessions').aggregate([$match, $lookup, $project]).toArray()\n//     .then(function(sessions) {\n//       if (sessions.length > 1) {\n//         return Promise.reject(new Error('Duplicate session.'));\n//       }\n\n//       if (sessions.length === 0) {\n//         req.session = null;\n//       }\n//       else {\n//         let session = _.omit(sessions[0], 'users');\n//         let user = sessions[0].users[0];\n\n//         req.session = session;\n//         req.user = user || null;\n//       }\n\n//       next();\n//     })\n//     .catch(function(err) {\n//       next(err);\n//     });\n  \n  next();\n};\n"
      ]
    },
    "mtime": 1521506045934
  },
  "{\"filename\":\"/app/schema/models/connections.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/schema/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "graphql-compose-mongoose/node8",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "composeWithMongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ConnectionsSchema",
            "Connections",
            "ConnectionTC"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ConnectionsSchema",
              "exported": "ConnectionsSchema"
            },
            {
              "kind": "local",
              "local": "Connections",
              "exported": "Connections"
            },
            {
              "kind": "local",
              "local": "ConnectionTC",
              "exported": "ConnectionTC"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/schema/models/connections.js",
      "filenameRelative": "/app/schema/models/connections.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "connections.js",
      "sourceFileName": "connections.js",
      "sourceRoot": "/app/schema/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/schema/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "connections"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ConnectionTC = exports.Connections = exports.ConnectionsSchema = undefined;\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _node = require('graphql-compose-mongoose/node8');\n\nvar _node2 = _interopRequireDefault(_node);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// TODO: FIXXX\nconst ConnectionsSchema = exports.ConnectionsSchema = new _mongoose2.default.Schema({\n  auth: {\n    status: {\n      authorized: {\n        type: Boolean,\n        index: false\n      },\n      complete: {\n        type: Boolean,\n        index: false\n      }\n    }\n  },\n  enabled: {\n    type: Boolean,\n    index: false\n  },\n\n  endpoint_data: {\n    direct_messages_received: {\n      since_id: {\n        type: String,\n        index: false\n      }\n    },\n    direct_messages_sent: {\n      since_id: {\n        type: String,\n        index: false\n      }\n    },\n    drive_changes: {\n      page_token: {\n        type: String,\n        index: false\n      }\n    },\n    edits: {\n      cursor: {\n        type: String,\n        index: false\n      }\n    },\n\n    events: {\n      since: {\n        type: Number,\n        index: false\n      }\n    },\n\n    gmail_inbox: {\n      page_token: {\n        type: String,\n        index: false\n      },\n      q: {\n        type: String,\n        index: false\n      }\n    },\n\n    posts: {\n      min_id: {\n        type: String,\n        index: false\n      },\n      since: {\n        type: Number,\n        index: false\n      }\n    },\n\n    tweets: {\n      since_id: {\n        type: String,\n        index: false\n      }\n    }\n  },\n\n  frequency: {\n    type: Number,\n    index: false\n  },\n\n  last_run: {\n    type: Date,\n    index: false\n  },\n\n  permissions: {\n    achievements: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    boards: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    comments: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    direct_messages_received: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    direct_messages_sent: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    drive_changes: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    edits: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    events: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    games_owned: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    gilded_comments: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    gmail_inbox: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    messages_received: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    messages_sent: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    pins: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    playlists: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    posts: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    saved_albums: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    saved_comments: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    saved_tracks: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    submitted: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    threads_downvoted: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    threads_upvoted: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    },\n    tweets: {\n      enabled: {\n        type: Boolean,\n        index: false\n      },\n      frequency: {\n        type: Number,\n        index: false\n      }\n    }\n  },\n\n  provider_id: {\n    type: Buffer,\n    index: false\n  },\n  provider_name: {\n    type: String,\n    index: false\n  },\n  remote_connection_id: {\n    type: Buffer,\n    index: false\n  },\n  status: {\n    type: String,\n    index: false\n  },\n  user_id: {\n    type: Buffer,\n    index: false\n  }\n}, {\n  collection: 'connections'\n});\n\nconst Connections = exports.Connections = _mongoose2.default.model('Connections', ConnectionsSchema);\n\nconst ConnectionTC = exports.ConnectionTC = (0, _node2.default)(Connections);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbm5lY3Rpb25zLmpzIl0sIm5hbWVzIjpbIkNvbm5lY3Rpb25zU2NoZW1hIiwiU2NoZW1hIiwiYXV0aCIsInN0YXR1cyIsImF1dGhvcml6ZWQiLCJ0eXBlIiwiQm9vbGVhbiIsImluZGV4IiwiY29tcGxldGUiLCJlbmFibGVkIiwiZW5kcG9pbnRfZGF0YSIsImRpcmVjdF9tZXNzYWdlc19yZWNlaXZlZCIsInNpbmNlX2lkIiwiU3RyaW5nIiwiZGlyZWN0X21lc3NhZ2VzX3NlbnQiLCJkcml2ZV9jaGFuZ2VzIiwicGFnZV90b2tlbiIsImVkaXRzIiwiY3Vyc29yIiwiZXZlbnRzIiwic2luY2UiLCJOdW1iZXIiLCJnbWFpbF9pbmJveCIsInEiLCJwb3N0cyIsIm1pbl9pZCIsInR3ZWV0cyIsImZyZXF1ZW5jeSIsImxhc3RfcnVuIiwiRGF0ZSIsInBlcm1pc3Npb25zIiwiYWNoaWV2ZW1lbnRzIiwiYm9hcmRzIiwiY29tbWVudHMiLCJnYW1lc19vd25lZCIsImdpbGRlZF9jb21tZW50cyIsIm1lc3NhZ2VzX3JlY2VpdmVkIiwibWVzc2FnZXNfc2VudCIsInBpbnMiLCJwbGF5bGlzdHMiLCJzYXZlZF9hbGJ1bXMiLCJzYXZlZF9jb21tZW50cyIsInNhdmVkX3RyYWNrcyIsInN1Ym1pdHRlZCIsInRocmVhZHNfZG93bnZvdGVkIiwidGhyZWFkc191cHZvdGVkIiwicHJvdmlkZXJfaWQiLCJCdWZmZXIiLCJwcm92aWRlcl9uYW1lIiwicmVtb3RlX2Nvbm5lY3Rpb25faWQiLCJ1c2VyX2lkIiwiY29sbGVjdGlvbiIsIkNvbm5lY3Rpb25zIiwibW9kZWwiLCJDb25uZWN0aW9uVEMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFHQTs7OztBQUNBOzs7Ozs7QUFGQTtBQUlPLE1BQU1BLGdEQUFvQixJQUFJLG1CQUFTQyxNQUFiLENBQy9CO0FBQ0VDLFFBQU07QUFDSkMsWUFBUTtBQUNOQyxrQkFBWTtBQUNWQyxjQUFNQyxPQURJO0FBRVZDLGVBQU87QUFGRyxPQUROO0FB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O0FBOE5YbUIsWUFBUTtBQUNOakIsZUFBUztBQUNQSixjQUFNQyxPQURDO0FBRVBDLGVBQU87QUFGQSxPQURIO0FBS05vQixpQkFBVztBQUNUdEIsY0FBTWdCLE1BREc7QUFFVGQsZUFBTztBQUZFO0FBTEw7QUE5TkcsR0E3RmY7O0FBdVVFdUMsZUFBYTtBQUNYekMsVUFBTTBDLE1BREs7QUFFWHhDLFdBQU87QUFGSSxHQXZVZjtBQTJVRXlDLGlCQUFlO0FBQ2IzQyxVQUFNUSxNQURPO0FBRWJOLFdBQU87QUFGTSxHQTNVakI7QUErVUUwQyx3QkFBc0I7QUFDcEI1QyxVQUFNMEMsTUFEYztBQUVwQnhDLFdBQU87QUFGYSxHQS9VeEI7QUFtVkVKLFVBQVE7QUFDTkUsVUFBTVEsTUFEQTtBQUVOTixXQUFPO0FBRkQsR0FuVlY7QUF1VkUyQyxXQUFTO0FBQ1A3QyxVQUFNMEMsTUFEQztBQUVQeEMsV0FBTztBQUZBO0FBdlZYLENBRCtCLEVBNlYvQjtBQUNFNEMsY0FBWTtBQURkLENBN1YrQixDQUExQjs7QUFtV0EsTUFBTUMsb0NBQWMsbUJBQVNDLEtBQVQsQ0FBZSxhQUFmLEVBQThCckQsaUJBQTlCLENBQXBCOztBQUVBLE1BQU1zRCxzQ0FBZSxvQkFBb0JGLFdBQXBCLENBQXJCIiwiZmlsZSI6ImNvbm5lY3Rpb25zLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2NoZW1hL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEBmbG93ICovXG5cbi8vIFRPRE86IEZJWFhYXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuaW1wb3J0IGNvbXBvc2VXaXRoTW9uZ29vc2UgZnJvbSAnZ3JhcGhxbC1jb21wb3NlLW1vbmdvb3NlL25vZGU4JztcblxuZXhwb3J0IGNvbnN0IENvbm5lY3Rpb25zU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIGF1dGg6IHtcbiAgICAgIHN0YXR1czoge1xuICAgICAgICBhdXRob3JpemVkOiB7XG4gICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgY29tcGxldGU6IHtcbiAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZW5hYmxlZDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgXG4gICAgZW5kcG9pbnRfZGF0YToge1xuICAgICAgZGlyZWN0X21lc3NhZ2VzX3JlY2VpdmVkOiB7XG4gICAgICAgIHNpbmNlX2lkOiB7XG4gICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGlyZWN0X21lc3NhZ2VzX3NlbnQ6IHtcbiAgICAgICAgc2luY2VfaWQ6IHtcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkcml2ZV9jaGFuZ2VzOiB7XG4gICAgICAgIHBhZ2VfdG9rZW46IHtcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlZGl0czoge1xuICAgICAgICBjdXJzb3I6IHtcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIHNpbmNlOiB7XG4gICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXG4gICAgICBcbiAgICAgIGdtYWlsX2luYm94OiB7XG4gICAgICAgIHBhZ2VfdG9rZW46IHtcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHE6IHtcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcbiAgICAgIHBvc3RzOiB7XG4gICAgICAgIG1pbl9pZDoge1xuICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgc2luY2U6IHtcbiAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcbiAgICAgIHR3ZWV0czoge1xuICAgICAgICBzaW5jZV9pZDoge1xuICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICBpbmRleDogZmFsc2UgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgfSxcbiAgfSxcbiAgICBcbiAgICBmcmVxdWVuY3k6IHtcbiAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgXG4gICAgbGFzdF9ydW46IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIFxuICAgIHBlcm1pc3Npb25zOiB7XG4gICAgICBhY2hpZXZlbWVudHM6IHtcbiAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBib2FyZHM6IHtcbiAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGZyZXF1ZW5jeToge1xuICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbW1lbnRzOiB7XG4gICAgICAgIGVuYWJsZWQ6IHtcbiAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkaXJlY3RfbWVzc2FnZXNfcmVjZWl2ZWQ6IHtcbiAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGZyZXF1ZW5jeToge1xuICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGRpcmVjdF9tZXNzYWdlc19zZW50OiB7XG4gICAgICAgIGVuYWJsZWQ6IHtcbiAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkcml2ZV9jaGFuZ2VzOiB7XG4gICAgICAgIGVuYWJsZWQ6IHtcbiAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlZGl0czoge1xuICAgICAgICBlbmFibGVkOiB7XG4gICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZnJlcXVlbmN5OiB7XG4gICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIGVuYWJsZWQ6IHtcbiAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnYW1lc19vd25lZDoge1xuICAgICAgICBlbmFibGVkOiB7XG4gICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZnJlcXVlbmN5OiB7XG4gICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZ2lsZGVkX2NvbW1lbnRzOiB7XG4gICAgICAgIGVuYWJsZWQ6IHtcbiAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnbWFpbF9pbmJveDoge1xuICAgICAgICBlbmFibGVkOiB7XG4gICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZnJlcXVlbmN5OiB7XG4gICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbWVzc2FnZXNfcmVjZWl2ZWQ6IHtcbiAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGZyZXF1ZW5jeToge1xuICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2VzX3NlbnQ6IHtcbiAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGZyZXF1ZW5jeToge1xuICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBpbnM6IHtcbiAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGZyZXF1ZW5jeToge1xuICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHBsYXlsaXN0czoge1xuICAgICAgICBlbmFibGVkOiB7XG4gICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZnJlcXVlbmN5OiB7XG4gICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcG9zdHM6IHtcbiAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGZyZXF1ZW5jeToge1xuICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNhdmVkX2FsYnVtczoge1xuICAgICAgICBlbmFibGVkOiB7XG4gICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZnJlcXVlbmN5OiB7XG4gICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2F2ZWRfY29tbWVudHM6IHtcbiAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGZyZXF1ZW5jeToge1xuICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHNhdmVkX3RyYWNrczoge1xuICAgICAgICBlbmFibGVkOiB7XG4gICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZnJlcXVlbmN5OiB7XG4gICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3VibWl0dGVkOiB7XG4gICAgICAgIGVuYWJsZWQ6IHtcbiAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0aHJlYWRzX2Rvd252b3RlZDoge1xuICAgICAgICBlbmFibGVkOiB7XG4gICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgZnJlcXVlbmN5OiB7XG4gICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGhyZWFkc191cHZvdGVkOiB7XG4gICAgICAgIGVuYWJsZWQ6IHtcbiAgICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBmcmVxdWVuY3k6IHtcbiAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0d2VldHM6IHtcbiAgICAgICAgZW5hYmxlZDoge1xuICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgaW5kZXg6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGZyZXF1ZW5jeToge1xuICAgICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9LFxuICAgIFxuICAgIHByb3ZpZGVyX2lkOiB7XG4gICAgICB0eXBlOiBCdWZmZXIsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIHByb3ZpZGVyX25hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgcmVtb3RlX2Nvbm5lY3Rpb25faWQ6IHtcbiAgICAgIHR5cGU6IEJ1ZmZlcixcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgc3RhdHVzOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIHVzZXJfaWQ6IHtcbiAgICAgIHR5cGU6IEJ1ZmZlcixcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGNvbGxlY3Rpb246ICdjb25uZWN0aW9ucycsXG4gIH1cbik7XG4gIFxuXG5leHBvcnQgY29uc3QgQ29ubmVjdGlvbnMgPSBtb25nb29zZS5tb2RlbCgnQ29ubmVjdGlvbnMnLCBDb25uZWN0aW9uc1NjaGVtYSk7XG5cbmV4cG9ydCBjb25zdCBDb25uZWN0aW9uVEMgPSBjb21wb3NlV2l0aE1vbmdvb3NlKENvbm5lY3Rpb25zKTtcblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "connections.js"
      ],
      "names": [
        "ConnectionsSchema",
        "Schema",
        "auth",
        "status",
        "authorized",
        "type",
        "Boolean",
        "index",
        "complete",
        "enabled",
        "endpoint_data",
        "direct_messages_received",
        "since_id",
        "String",
        "direct_messages_sent",
        "drive_changes",
        "page_token",
        "edits",
        "cursor",
        "events",
        "since",
        "Number",
        "gmail_inbox",
        "q",
        "posts",
        "min_id",
        "tweets",
        "frequency",
        "last_run",
        "Date",
        "permissions",
        "achievements",
        "boards",
        "comments",
        "games_owned",
        "gilded_comments",
        "messages_received",
        "messages_sent",
        "pins",
        "playlists",
        "saved_albums",
        "saved_comments",
        "saved_tracks",
        "submitted",
        "threads_downvoted",
        "threads_upvoted",
        "provider_id",
        "Buffer",
        "provider_name",
        "remote_connection_id",
        "user_id",
        "collection",
        "Connections",
        "model",
        "ConnectionTC"
      ],
      "mappings": "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",
      "file": "connections.js",
      "sourceRoot": "/app/schema/models",
      "sourcesContent": [
        "/* @flow */\n\n// TODO: FIXXX\nimport mongoose from 'mongoose';\nimport composeWithMongoose from 'graphql-compose-mongoose/node8';\n\nexport const ConnectionsSchema = new mongoose.Schema(\n  {\n    auth: {\n      status: {\n        authorized: {\n          type: Boolean,\n          index: false\n        },\n        complete: {\n          type: Boolean,\n          index: false\n      }\n      }\n    },\n    enabled: {\n      type: Boolean,\n      index: false\n    },\n    \n    endpoint_data: {\n      direct_messages_received: {\n        since_id: {\n          type: String,\n          index: false\n        }\n      },\n      direct_messages_sent: {\n        since_id: {\n          type: String,\n          index: false\n        }\n      },\n      drive_changes: {\n        page_token: {\n          type: String,\n          index: false\n        }\n      },\n      edits: {\n        cursor: {\n          type: String,\n          index: false\n        }\n      },\n\n      \n      events: {\n        since: {\n          type: Number,\n          index: false\n        }\n      },\n      \n      \n      gmail_inbox: {\n        page_token: {\n          type: String,\n          index: false\n        },\n        q: {\n          type: String,\n          index: false\n        }\n      },\n      \n      posts: {\n        min_id: {\n          type: String,\n          index: false\n        },\n        since: {\n          type: Number,\n          index: false\n        }\n      },\n      \n      tweets: {\n        since_id: {\n          type: String,\n          index: false         \n        }\n      },\n  },\n    \n    frequency: {\n      type: Number,\n      index: false\n    },\n    \n    last_run: {\n      type: Date,\n      index: false\n    },\n    \n    permissions: {\n      achievements: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        \n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      boards: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      comments: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      direct_messages_received: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      direct_messages_sent: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      drive_changes: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      edits: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      events: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      games_owned: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      gilded_comments: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      gmail_inbox: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      messages_received: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      messages_sent: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      pins: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      playlists: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      posts: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      saved_albums: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      saved_comments: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      saved_tracks: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      submitted: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      threads_downvoted: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      threads_upvoted: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n      tweets: {\n        enabled: {\n          type: Boolean,\n          index: false\n        },\n        frequency: {\n          type: Number,\n          index: false\n        }\n      },\n    },\n    \n    provider_id: {\n      type: Buffer,\n      index: false\n    },\n    provider_name: {\n      type: String,\n      index: false\n    },\n    remote_connection_id: {\n      type: Buffer,\n      index: false\n    },\n    status: {\n      type: String,\n      index: false\n    },\n    user_id: {\n      type: Buffer,\n      index: false\n    }\n  },\n  {\n    collection: 'connections',\n  }\n);\n  \n\nexport const Connections = mongoose.model('Connections', ConnectionsSchema);\n\nexport const ConnectionTC = composeWithMongoose(Connections);\n\n"
      ]
    },
    "mtime": 1521506017143
  },
  "{\"filename\":\"/app/schema/models/contacts.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/schema/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "graphql-compose-mongoose/node8",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "composeWithMongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ContactsSchema",
            "Contacts",
            "ContactTC"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ContactsSchema",
              "exported": "ContactsSchema"
            },
            {
              "kind": "local",
              "local": "Contacts",
              "exported": "Contacts"
            },
            {
              "kind": "local",
              "local": "ContactTC",
              "exported": "ContactTC"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/schema/models/contacts.js",
      "filenameRelative": "/app/schema/models/contacts.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "contacts.js",
      "sourceFileName": "contacts.js",
      "sourceRoot": "/app/schema/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/schema/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "contacts"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ContactTC = exports.Contacts = exports.ContactsSchema = undefined;\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _node = require('graphql-compose-mongoose/node8');\n\nvar _node2 = _interopRequireDefault(_node);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// TODO: FIXXX\nconst ContactsSchema = exports.ContactsSchema = new _mongoose2.default.Schema({\n  avatar_url: {\n    type: String,\n    index: false\n  },\n\n  connection: {\n    type: Buffer,\n    index: false\n  },\n\n  created: {\n    type: Date,\n    index: false\n  },\n\n  handle: {\n    type: String,\n    index: false\n  },\n\n  identifier: {\n    type: String,\n    index: false\n  },\n\n  name: {\n    type: String,\n    index: false\n  },\n\n  provider_name: {\n    type: String,\n    index: false\n  },\n\n  remote_id: {\n    type: String,\n    index: false\n  },\n\n  tagMasks: {\n    added: {\n      type: [String],\n      index: false\n    }\n  },\n\n  updated: {\n    type: Date,\n    index: false\n  },\n\n  user_id: {\n    type: Buffer\n    //index: false\n  }\n}, {\n  collection: 'contacts'\n});\n\nconst Contacts = exports.Contacts = _mongoose2.default.model('Contacts', ContactsSchema);\n\nconst ContactTC = exports.ContactTC = (0, _node2.default)(Contacts);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3RzLmpzIl0sIm5hbWVzIjpbIkNvbnRhY3RzU2NoZW1hIiwiU2NoZW1hIiwiYXZhdGFyX3VybCIsInR5cGUiLCJTdHJpbmciLCJpbmRleCIsImNvbm5lY3Rpb24iLCJCdWZmZXIiLCJjcmVhdGVkIiwiRGF0ZSIsImhhbmRsZSIsImlkZW50aWZpZXIiLCJuYW1lIiwicHJvdmlkZXJfbmFtZSIsInJlbW90ZV9pZCIsInRhZ01hc2tzIiwiYWRkZWQiLCJ1cGRhdGVkIiwidXNlcl9pZCIsImNvbGxlY3Rpb24iLCJDb250YWN0cyIsIm1vZGVsIiwiQ29udGFjdFRDIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBR0E7Ozs7QUFDQTs7Ozs7O0FBRkE7QUFJTyxNQUFNQSwwQ0FBaUIsSUFBSSxtQkFBU0MsTUFBYixDQUM1QjtBQUNFQyxjQUFZO0FBQ1ZDLFVBQU1DLE1BREk7QUFFVkMsV0FBTztBQUZHLEdBRGQ7O0FBTUVDLGNBQVk7QUFDVkgsVUFBTUksTUFESTtBQUVWRixXQUFPO0FBRkcsR0FOZDs7QUFXRUcsV0FBUztBQUNQTCxVQUFNTSxJQURDO0FBRVBKLFdBQU87QUFGQSxHQVhYOztBQWdCRUssVUFBUTtBQUNOUCxVQUFNQyxNQURBO0FBRU5DLFdBQU87QUFGRCxHQWhCVjs7QUFxQkVNLGNBQVk7QUFDVlIsVUFBTUMsTUFESTtBQUVWQyxXQUFPO0FBRkcsR0FyQmQ7O0FBMEJFTyxRQUFNO0FBQ0pULFVBQU1DLE1BREY7QUFFSkMsV0FBTztBQUZILEdBMUJSOztBQStCRVEsaUJBQWU7QUFDYlYsVUFBTUMsTUFETztBQUViQyxXQUFPO0FBRk0sR0EvQmpCOztBQW9DRVMsYUFBVztBQUNUWCxVQUFNQyxNQURHO0FBRVRDLFdBQU87QUFGRSxHQXBDYjs7QUF5Q0VVLFlBQVU7QUFDUkMsV0FBTztBQUNMYixZQUFNLENBQUNDLE1BQUQsQ0FERDtBQUVMQyxhQUFPO0FBRkY7QUFEQyxHQXpDWjs7QUFnREVZLFdBQVM7QUFDUGQsVUFBTU0sSUFEQztBQUVQSixXQUFPO0FBRkEsR0FoRFg7O0FBcURFYSxXQUFTO0FBQ1BmLFVBQU1JO0FBQ047QUFGTztBQXJEWCxDQUQ0QixFQTJENUI7QUFDRVksY0FBWTtBQURkLENBM0Q0QixDQUF2Qjs7QUFpRUEsTUFBTUMsOEJBQVcsbUJBQVNDLEtBQVQsQ0FBZSxVQUFmLEVBQTJCckIsY0FBM0IsQ0FBakI7O0FBRUEsTUFBTXNCLGdDQUFZLG9CQUFvQkYsUUFBcEIsQ0FBbEIiLCJmaWxlIjoiY29udGFjdHMuanMiLCJzb3VyY2VSb290IjoiL2FwcC9zY2hlbWEvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQGZsb3cgKi9cblxuLy8gVE9ETzogRklYWFhcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgY29tcG9zZVdpdGhNb25nb29zZSBmcm9tICdncmFwaHFsLWNvbXBvc2UtbW9uZ29vc2Uvbm9kZTgnO1xuXG5leHBvcnQgY29uc3QgQ29udGFjdHNTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKFxuICB7XG4gICAgYXZhdGFyX3VybDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgaW5kZXg6IGZhbHNlXG4gICAgfSxcbiAgICBcbiAgICBjb25uZWN0aW9uOiB7XG4gICAgICB0eXBlOiBCdWZmZXIsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIFxuICAgIGNyZWF0ZWQ6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIFxuICAgIGhhbmRsZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgaW5kZXg6IGZhbHNlXG4gICAgfSxcbiAgICBcbiAgICBpZGVudGlmaWVyOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIFxuICAgIG5hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgXG4gICAgcHJvdmlkZXJfbmFtZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgaW5kZXg6IGZhbHNlXG4gICAgfSxcbiAgICBcbiAgICByZW1vdGVfaWQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgXG4gICAgdGFnTWFza3M6IHtcbiAgICAgIGFkZGVkOiB7XG4gICAgICAgIHR5cGU6IFtTdHJpbmddLFxuICAgICAgICBpbmRleDogZmFsc2VcbiAgICAgIH0sXG4gICAgfSxcbiAgICBcbiAgICB1cGRhdGVkOiB7XG4gICAgICB0eXBlOiBEYXRlLFxuICAgICAgaW5kZXg6IGZhbHNlXG4gICAgfSxcbiAgICBcbiAgICB1c2VyX2lkOiB7XG4gICAgICB0eXBlOiBCdWZmZXIsXG4gICAgICAvL2luZGV4OiBmYWxzZVxuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBjb2xsZWN0aW9uOiAnY29udGFjdHMnLFxuICB9XG4pO1xuICBcblxuZXhwb3J0IGNvbnN0IENvbnRhY3RzID0gbW9uZ29vc2UubW9kZWwoJ0NvbnRhY3RzJywgQ29udGFjdHNTY2hlbWEpO1xuXG5leHBvcnQgY29uc3QgQ29udGFjdFRDID0gY29tcG9zZVdpdGhNb25nb29zZShDb250YWN0cyk7XG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "contacts.js"
      ],
      "names": [
        "ContactsSchema",
        "Schema",
        "avatar_url",
        "type",
        "String",
        "index",
        "connection",
        "Buffer",
        "created",
        "Date",
        "handle",
        "identifier",
        "name",
        "provider_name",
        "remote_id",
        "tagMasks",
        "added",
        "updated",
        "user_id",
        "collection",
        "Contacts",
        "model",
        "ContactTC"
      ],
      "mappings": ";;;;;;;AAGA;;;;AACA;;;;;;AAFA;AAIO,MAAMA,0CAAiB,IAAI,mBAASC,MAAb,CAC5B;AACEC,cAAY;AACVC,UAAMC,MADI;AAEVC,WAAO;AAFG,GADd;;AAMEC,cAAY;AACVH,UAAMI,MADI;AAEVF,WAAO;AAFG,GANd;;AAWEG,WAAS;AACPL,UAAMM,IADC;AAEPJ,WAAO;AAFA,GAXX;;AAgBEK,UAAQ;AACNP,UAAMC,MADA;AAENC,WAAO;AAFD,GAhBV;;AAqBEM,cAAY;AACVR,UAAMC,MADI;AAEVC,WAAO;AAFG,GArBd;;AA0BEO,QAAM;AACJT,UAAMC,MADF;AAEJC,WAAO;AAFH,GA1BR;;AA+BEQ,iBAAe;AACbV,UAAMC,MADO;AAEbC,WAAO;AAFM,GA/BjB;;AAoCES,aAAW;AACTX,UAAMC,MADG;AAETC,WAAO;AAFE,GApCb;;AAyCEU,YAAU;AACRC,WAAO;AACLb,YAAM,CAACC,MAAD,CADD;AAELC,aAAO;AAFF;AADC,GAzCZ;;AAgDEY,WAAS;AACPd,UAAMM,IADC;AAEPJ,WAAO;AAFA,GAhDX;;AAqDEa,WAAS;AACPf,UAAMI;AACN;AAFO;AArDX,CAD4B,EA2D5B;AACEY,cAAY;AADd,CA3D4B,CAAvB;;AAiEA,MAAMC,8BAAW,mBAASC,KAAT,CAAe,UAAf,EAA2BrB,cAA3B,CAAjB;;AAEA,MAAMsB,gCAAY,oBAAoBF,QAApB,CAAlB",
      "file": "contacts.js",
      "sourceRoot": "/app/schema/models",
      "sourcesContent": [
        "/* @flow */\n\n// TODO: FIXXX\nimport mongoose from 'mongoose';\nimport composeWithMongoose from 'graphql-compose-mongoose/node8';\n\nexport const ContactsSchema = new mongoose.Schema(\n  {\n    avatar_url: {\n      type: String,\n      index: false\n    },\n    \n    connection: {\n      type: Buffer,\n      index: false\n    },\n    \n    created: {\n      type: Date,\n      index: false\n    },\n    \n    handle: {\n      type: String,\n      index: false\n    },\n    \n    identifier: {\n      type: String,\n      index: false\n    },\n    \n    name: {\n      type: String,\n      index: false\n    },\n    \n    provider_name: {\n      type: String,\n      index: false\n    },\n    \n    remote_id: {\n      type: String,\n      index: false\n    },\n    \n    tagMasks: {\n      added: {\n        type: [String],\n        index: false\n      },\n    },\n    \n    updated: {\n      type: Date,\n      index: false\n    },\n    \n    user_id: {\n      type: Buffer,\n      //index: false\n    },\n  },\n  {\n    collection: 'contacts',\n  }\n);\n  \n\nexport const Contacts = mongoose.model('Contacts', ContactsSchema);\n\nexport const ContactTC = composeWithMongoose(Contacts);\n\n"
      ]
    },
    "mtime": 1521506027994
  },
  "{\"filename\":\"/app/schema/models/content.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],{\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}],[[],{\"spec\":false,\"loose\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/schema/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0": {
    "metadata": {
      "usedHelpers": [
        "interopRequireDefault"
      ],
      "marked": [],
      "modules": {
        "imports": [
          {
            "source": "mongoose",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "mongoose"
              }
            ]
          },
          {
            "source": "graphql-compose-mongoose/node8",
            "imported": [
              "default"
            ],
            "specifiers": [
              {
                "kind": "named",
                "imported": "default",
                "local": "composeWithMongoose"
              }
            ]
          }
        ],
        "exports": {
          "exported": [
            "ContentSchema",
            "Content",
            "ContentTC"
          ],
          "specifiers": [
            {
              "kind": "local",
              "local": "ContentSchema",
              "exported": "ContentSchema"
            },
            {
              "kind": "local",
              "local": "Content",
              "exported": "Content"
            },
            {
              "kind": "local",
              "local": "ContentTC",
              "exported": "ContentTC"
            }
          ]
        }
      }
    },
    "options": {
      "filename": "/app/schema/models/content.js",
      "filenameRelative": "/app/schema/models/content.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ],
        [
          [],
          {
            "spec": false,
            "loose": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "content.js",
      "sourceFileName": "content.js",
      "sourceRoot": "/app/schema/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/schema/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "content"
    },
    "ignored": false,
    "code": "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ContentTC = exports.Content = exports.ContentSchema = undefined;\n\nvar _mongoose = require('mongoose');\n\nvar _mongoose2 = _interopRequireDefault(_mongoose);\n\nvar _node = require('graphql-compose-mongoose/node8');\n\nvar _node2 = _interopRequireDefault(_node);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst ContentSchema = exports.ContentSchema = new _mongoose2.default.Schema({\n  connection: {\n    type: Buffer,\n    index: false\n  },\n  created: {\n    type: Date,\n    index: false\n  },\n  embed_content: {\n    type: String,\n    index: false\n  },\n  embed_format: {\n    type: String,\n    index: false\n  },\n  embed_thumbnail: {\n    type: String,\n    index: false\n  },\n  embeded_format: {\n    type: String,\n    index: false\n  },\n  identifier: {\n    type: String,\n    index: false\n  },\n\n  mimetype: {\n    type: String,\n    index: false\n  },\n\n  owner: {\n    type: String,\n    index: false\n  },\n\n  provider_name: {\n    type: String,\n    index: false\n  },\n\n  remote_id: {\n    type: String,\n    index: false\n  },\n  tagMasks: {\n    source: {\n      type: [String],\n      index: false\n    }\n  },\n\n  text: {\n    type: String,\n    index: false\n  },\n\n  thumbnail: {\n    type: String,\n    index: false\n  },\n\n  title: {\n    type: String,\n    index: false\n  },\n\n  type: { // name clash?\n    type: undefined, // String\n    index: false\n  },\n\n  updated: {\n    type: Date,\n    index: false\n  },\n\n  url: {\n    type: String,\n    index: false\n  },\n\n  user_id: {\n    type: Buffer,\n    index: false\n  }\n}, {\n  collection: 'content'\n});\n\nconst Content = exports.Content = _mongoose2.default.model('Content', ContentSchema);\n\nconst ContentTC = exports.ContentTC = (0, _node2.default)(Content);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRlbnQuanMiXSwibmFtZXMiOlsiQ29udGVudFNjaGVtYSIsIlNjaGVtYSIsImNvbm5lY3Rpb24iLCJ0eXBlIiwiQnVmZmVyIiwiaW5kZXgiLCJjcmVhdGVkIiwiRGF0ZSIsImVtYmVkX2NvbnRlbnQiLCJTdHJpbmciLCJlbWJlZF9mb3JtYXQiLCJlbWJlZF90aHVtYm5haWwiLCJlbWJlZGVkX2Zvcm1hdCIsImlkZW50aWZpZXIiLCJtaW1ldHlwZSIsIm93bmVyIiwicHJvdmlkZXJfbmFtZSIsInJlbW90ZV9pZCIsInRhZ01hc2tzIiwic291cmNlIiwidGV4dCIsInRodW1ibmFpbCIsInRpdGxlIiwidW5kZWZpbmVkIiwidXBkYXRlZCIsInVybCIsInVzZXJfaWQiLCJjb2xsZWN0aW9uIiwiQ29udGVudCIsIm1vZGVsIiwiQ29udGVudFRDIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRUE7Ozs7QUFDQTs7Ozs7O0FBRU8sTUFBTUEsd0NBQWdCLElBQUksbUJBQVNDLE1BQWIsQ0FDM0I7QUFDRUMsY0FBWTtBQUNWQyxVQUFNQyxNQURJO0FBRVZDLFdBQU87QUFGRyxHQURkO0FBS0VDLFdBQVM7QUFDUEgsVUFBTUksSUFEQztBQUVQRixXQUFPO0FBRkEsR0FMWDtBQVNFRyxpQkFBZTtBQUNiTCxVQUFNTSxNQURPO0FBRWJKLFdBQU87QUFGTSxHQVRqQjtBQWFFSyxnQkFBYztBQUNaUCxVQUFNTSxNQURNO0FBRVpKLFdBQU87QUFGSyxHQWJoQjtBQWlCRU0sbUJBQWlCO0FBQ2ZSLFVBQU1NLE1BRFM7QUFFZkosV0FBTztBQUZRLEdBakJuQjtBQXFCRU8sa0JBQWdCO0FBQ2RULFVBQU1NLE1BRFE7QUFFZEosV0FBTztBQUZPLEdBckJsQjtBQXlCRVEsY0FBWTtBQUNWVixVQUFNTSxNQURJO0FBRVZKLFdBQU87QUFGRyxHQXpCZDs7QUE4QkVTLFlBQVU7QUFDUlgsVUFBTU0sTUFERTtBQUVSSixXQUFPO0FBRkMsR0E5Qlo7O0FBbUNFVSxTQUFPO0FBQ0xaLFVBQU1NLE1BREQ7QUFFTEosV0FBTztBQUZGLEdBbkNUOztBQXdDRVcsaUJBQWU7QUFDYmIsVUFBTU0sTUFETztBQUViSixXQUFPO0FBRk0sR0F4Q2pCOztBQTZDRVksYUFBVztBQUNUZCxVQUFNTSxNQURHO0FBRVRKLFdBQU87QUFGRSxHQTdDYjtBQWlERWEsWUFBVTtBQUNSQyxZQUFRO0FBQ05oQixZQUFNLENBQUNNLE1BQUQsQ0FEQTtBQUVOSixhQUFPO0FBRkQ7QUFEQSxHQWpEWjs7QUF3REVlLFFBQU07QUFDSmpCLFVBQU1NLE1BREY7QUFFSkosV0FBTztBQUZILEdBeERSOztBQTZERWdCLGFBQVc7QUFDVGxCLFVBQU1NLE1BREc7QUFFVEosV0FBTztBQUZFLEdBN0RiOztBQWtFRWlCLFNBQU87QUFDTG5CLFVBQU1NLE1BREQ7QUFFTEosV0FBTztBQUZGLEdBbEVUOztBQXdFRUYsUUFBTSxFQUFFO0FBQ05BLFVBQU1vQixTQURGLEVBQ2E7QUFDakJsQixXQUFPO0FBRkgsR0F4RVI7O0FBNkVFbUIsV0FBUztBQUNQckIsVUFBTUksSUFEQztBQUVQRixXQUFPO0FBRkEsR0E3RVg7O0FBa0ZFb0IsT0FBSztBQUNIdEIsVUFBTU0sTUFESDtBQUVISixXQUFPO0FBRkosR0FsRlA7O0FBdUZFcUIsV0FBUztBQUNQdkIsVUFBTUMsTUFEQztBQUVQQyxXQUFPO0FBRkE7QUF2RlgsQ0FEMkIsRUE2RjNCO0FBQ0VzQixjQUFZO0FBRGQsQ0E3RjJCLENBQXRCOztBQWtHQSxNQUFNQyw0QkFBVSxtQkFBU0MsS0FBVCxDQUFlLFNBQWYsRUFBMEI3QixhQUExQixDQUFoQjs7QUFFQSxNQUFNOEIsZ0NBQVksb0JBQW9CRixPQUFwQixDQUFsQiIsImZpbGUiOiJjb250ZW50LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvc2NoZW1hL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEBmbG93ICovXG5cbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgY29tcG9zZVdpdGhNb25nb29zZSBmcm9tICdncmFwaHFsLWNvbXBvc2UtbW9uZ29vc2Uvbm9kZTgnO1xuXG5leHBvcnQgY29uc3QgQ29udGVudFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gIHtcbiAgICBjb25uZWN0aW9uOiB7XG4gICAgICB0eXBlOiBCdWZmZXIsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIGNyZWF0ZWQ6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIGVtYmVkX2NvbnRlbnQ6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgZW1iZWRfZm9ybWF0OiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIGVtYmVkX3RodW1ibmFpbDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgaW5kZXg6IGZhbHNlXG4gICAgfSxcbiAgICBlbWJlZGVkX2Zvcm1hdDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgaW5kZXg6IGZhbHNlXG4gICAgfSxcbiAgICBpZGVudGlmaWVyOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIFxuICAgIG1pbWV0eXBlOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIFxuICAgIG93bmVyOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIFxuICAgIHByb3ZpZGVyX25hbWU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgXG4gICAgcmVtb3RlX2lkOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIHRhZ01hc2tzOiB7XG4gICAgICBzb3VyY2U6IHtcbiAgICAgICAgdHlwZTogW1N0cmluZ10sXG4gICAgICAgIGluZGV4OiBmYWxzZVxuICAgICAgfVxuICAgIH0sXG4gICAgXG4gICAgdGV4dDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgaW5kZXg6IGZhbHNlXG4gICAgfSxcbiAgICBcbiAgICB0aHVtYm5haWw6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgXG4gICAgdGl0bGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgXG4gICAgXG4gICAgdHlwZTogeyAvLyBuYW1lIGNsYXNoP1xuICAgICAgdHlwZTogdW5kZWZpbmVkLCAvLyBTdHJpbmdcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgXG4gICAgdXBkYXRlZDoge1xuICAgICAgdHlwZTogRGF0ZSxcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gICAgXG4gICAgdXJsOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICBpbmRleDogZmFsc2VcbiAgICB9LFxuICAgIFxuICAgIHVzZXJfaWQ6IHtcbiAgICAgIHR5cGU6IEJ1ZmZlcixcbiAgICAgIGluZGV4OiBmYWxzZVxuICAgIH0sXG4gIH0sXG4gIHtcbiAgICBjb2xsZWN0aW9uOiAnY29udGVudCcsXG4gIH1cbik7XG4gIFxuZXhwb3J0IGNvbnN0IENvbnRlbnQgPSBtb25nb29zZS5tb2RlbCgnQ29udGVudCcsIENvbnRlbnRTY2hlbWEpO1xuXG5leHBvcnQgY29uc3QgQ29udGVudFRDID0gY29tcG9zZVdpdGhNb25nb29zZShDb250ZW50KTtcblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "content.js"
      ],
      "names": [
        "ContentSchema",
        "Schema",
        "connection",
        "type",
        "Buffer",
        "index",
        "created",
        "Date",
        "embed_content",
        "String",
        "embed_format",
        "embed_thumbnail",
        "embeded_format",
        "identifier",
        "mimetype",
        "owner",
        "provider_name",
        "remote_id",
        "tagMasks",
        "source",
        "text",
        "thumbnail",
        "title",
        "undefined",
        "updated",
        "url",
        "user_id",
        "collection",
        "Content",
        "model",
        "ContentTC"
      ],
      "mappings": ";;;;;;;AAEA;;;;AACA;;;;;;AAEO,MAAMA,wCAAgB,IAAI,mBAASC,MAAb,CAC3B;AACEC,cAAY;AACVC,UAAMC,MADI;AAEVC,WAAO;AAFG,GADd;AAKEC,WAAS;AACPH,UAAMI,IADC;AAEPF,WAAO;AAFA,GALX;AASEG,iBAAe;AACbL,UAAMM,MADO;AAEbJ,WAAO;AAFM,GATjB;AAaEK,gBAAc;AACZP,UAAMM,MADM;AAEZJ,WAAO;AAFK,GAbhB;AAiBEM,mBAAiB;AACfR,UAAMM,MADS;AAEfJ,WAAO;AAFQ,GAjBnB;AAqBEO,kBAAgB;AACdT,UAAMM,MADQ;AAEdJ,WAAO;AAFO,GArBlB;AAyBEQ,cAAY;AACVV,UAAMM,MADI;AAEVJ,WAAO;AAFG,GAzBd;;AA8BES,YAAU;AACRX,UAAMM,MADE;AAERJ,WAAO;AAFC,GA9BZ;;AAmCEU,SAAO;AACLZ,UAAMM,MADD;AAELJ,WAAO;AAFF,GAnCT;;AAwCEW,iBAAe;AACbb,UAAMM,MADO;AAEbJ,WAAO;AAFM,GAxCjB;;AA6CEY,aAAW;AACTd,UAAMM,MADG;AAETJ,WAAO;AAFE,GA7Cb;AAiDEa,YAAU;AACRC,YAAQ;AACNhB,YAAM,CAACM,MAAD,CADA;AAENJ,aAAO;AAFD;AADA,GAjDZ;;AAwDEe,QAAM;AACJjB,UAAMM,MADF;AAEJJ,WAAO;AAFH,GAxDR;;AA6DEgB,aAAW;AACTlB,UAAMM,MADG;AAETJ,WAAO;AAFE,GA7Db;;AAkEEiB,SAAO;AACLnB,UAAMM,MADD;AAELJ,WAAO;AAFF,GAlET;;AAwEEF,QAAM,EAAE;AACNA,UAAMoB,SADF,EACa;AACjBlB,WAAO;AAFH,GAxER;;AA6EEmB,WAAS;AACPrB,UAAMI,IADC;AAEPF,WAAO;AAFA,GA7EX;;AAkFEoB,OAAK;AACHtB,UAAMM,MADH;AAEHJ,WAAO;AAFJ,GAlFP;;AAuFEqB,WAAS;AACPvB,UAAMC,MADC;AAEPC,WAAO;AAFA;AAvFX,CAD2B,EA6F3B;AACEsB,cAAY;AADd,CA7F2B,CAAtB;;AAkGA,MAAMC,4BAAU,mBAASC,KAAT,CAAe,SAAf,EAA0B7B,aAA1B,CAAhB;;AAEA,MAAM8B,gCAAY,oBAAoBF,OAApB,CAAlB",
      "file": "content.js",
      "sourceRoot": "/app/schema/models",
      "sourcesContent": [
        "/* @flow */\n\nimport mongoose from 'mongoose';\nimport composeWithMongoose from 'graphql-compose-mongoose/node8';\n\nexport const ContentSchema = new mongoose.Schema(\n  {\n    connection: {\n      type: Buffer,\n      index: false\n    },\n    created: {\n      type: Date,\n      index: false\n    },\n    embed_content: {\n      type: String,\n      index: false\n    },\n    embed_format: {\n      type: String,\n      index: false\n    },\n    embed_thumbnail: {\n      type: String,\n      index: false\n    },\n    embeded_format: {\n      type: String,\n      index: false\n    },\n    identifier: {\n      type: String,\n      index: false\n    },\n    \n    mimetype: {\n      type: String,\n      index: false\n    },\n    \n    owner: {\n      type: String,\n      index: false\n    },\n    \n    provider_name: {\n      type: String,\n      index: false\n    },\n    \n    remote_id: {\n      type: String,\n      index: false\n    },\n    tagMasks: {\n      source: {\n        type: [String],\n        index: false\n      }\n    },\n    \n    text: {\n      type: String,\n      index: false\n    },\n    \n    thumbnail: {\n      type: String,\n      index: false\n    },\n    \n    title: {\n      type: String,\n      index: false\n    },\n    \n    \n    type: { // name clash?\n      type: undefined, // String\n      index: false\n    },\n    \n    updated: {\n      type: Date,\n      index: false\n    },\n    \n    url: {\n      type: String,\n      index: false\n    },\n    \n    user_id: {\n      type: Buffer,\n      index: false\n    },\n  },\n  {\n    collection: 'content',\n  }\n);\n  \nexport const Content = mongoose.model('Content', ContentSchema);\n\nexport const ContentTC = composeWithMongoose(Content);\n\n"
      ]
    },
    "mtime": 1521506043994
  }
}